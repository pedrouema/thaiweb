{"version":3,"file":"ej2-vue-base.min.js","sources":["../../src/component-base.js","../../src/component-decorator.js","../../src/template.js"],"sourcesContent":["/**\n * Vue Component Base\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\nimport * as Vue3 from 'vue-class-component';\nimport * as Vue2 from 'vue';\nimport Vue from 'vue';\nexport var aVue = _interopRequireWildcard(Vue2);\nexport function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n        return obj;\n    }\n    else {\n        var newObj = {};\n        if (obj != null) {\n            for (var key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key))\n                    newObj[\"\" + key] = obj[\"\" + key];\n            }\n        }\n        newObj.default = obj;\n        return newObj;\n    }\n}\nexport var allVue = aVue;\nexport var gh = allVue.h;\nexport var isExecute = (parseInt(allVue.version) > 2) ? false : true;\nvar vueImport;\nif (!isExecute || parseInt(allVue.version) < 3) {\n    vueImport = Vue3.Vue;\n}\nelse {\n    vueImport = Vue;\n}\nvar ComponentBase = /** @class */ (function (_super) {\n    __extends(ComponentBase, _super);\n    function ComponentBase() {\n        var _this = _super.call(this, arguments) || this;\n        _this.hasInjectedModules = false;\n        _this.hasChildDirective = false;\n        _this.childDirObjects = '';\n        _this.isDecorator = false;\n        return _this;\n    }\n    ComponentBase.prototype.created = function () {\n        var _this = this;\n        if (!this.propKeys) {\n            return;\n        }\n        var _loop_1 = function (prop) {\n            this_1.ej2Instances.addEventListener(prop, function (args) {\n                _this.$emit(prop, args);\n            });\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = this.propKeys; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n        var injectables = getValue('$root.$options.provide', this);\n        var vueInjectables = getValue('$parent.$options.provide', this);\n        vueInjectables = !isNullOrUndefined(vueInjectables) ? vueInjectables : getValue('$.parent.provides', this);\n        if (this.hasInjectedModules && !isExecute) {\n            var prevModule = [];\n            if (injectables && injectables.managed) {\n                this.isDecorator = true;\n                prevModule = this.getInjectedServices() || [];\n            }\n            else if (injectables) {\n                prevModule = injectables[this.ej2Instances.getModuleName()] || [];\n            }\n            else if (vueInjectables) {\n                prevModule = this.getInjectedServices() || [];\n            }\n            var curModule = this.ej2Instances.getInjectedModules() || [];\n            for (var _b = 0, curModule_1 = curModule; _b < curModule_1.length; _b++) {\n                var mod = curModule_1[_b];\n                if (prevModule.indexOf(mod) === -1) {\n                    prevModule.push(mod);\n                }\n            }\n            this.ej2Instances.injectedModules = prevModule;\n        }\n    };\n    ComponentBase.prototype.mounted = function () {\n        var cusEle = this.$el ? this.$el.querySelectorAll(\"div.e-directive\") : null;\n        if (!isExecute && cusEle) {\n            for (var i = 0; i < cusEle.length; i++) {\n                cusEle[parseInt(i.toString(), 10)].parentElement && cusEle[parseInt(i.toString(), 10)].parentElement.removeChild(cusEle[parseInt(i.toString(), 10)]);\n            }\n        }\n        this.ej2Instances.isVue = true;\n        this.ej2Instances.isVue3 = this.isVue3;\n        this.ej2Instances.vueInstance = this;\n        if (this.isVue3) {\n            this.ej2Instances.ej2Instances = this.ej2Instances;\n            this.ej2Instances.referModels = this.models;\n            this.setModelValue();\n        }\n        this.ej2Instances.appendTo(this.$el);\n    };\n    ComponentBase.prototype.setModelValue = function () {\n        if (!isNullOrUndefined(this.modelValue) || !isNullOrUndefined(this.$attrs.modelValue)) {\n            var key = this.models.toString().match(/checked|value/) || [];\n            var propKey = key[0];\n            if (!isNullOrUndefined(propKey)) {\n                this.ej2Instances[\"\" + propKey] = !isNullOrUndefined(this.modelValue) ? this.modelValue : this.$attrs.modelValue;\n            }\n        }\n    };\n    ComponentBase.prototype.getInjectedServices = function () {\n        var ret = [];\n        var provide;\n        if (this.$root && this.isDecorator) {\n            provide = getValue('$root.$options.provide', this);\n        }\n        else if (this.$vnode) {\n            provide = getValue('$vnode.context.$options.provide', this);\n        }\n        else if (this.$parent) {\n            provide = getValue('$parent.$options.provide', this);\n        }\n        if (isNullOrUndefined(provide) && !isNullOrUndefined(this.$)) {\n            provide = getValue('$.parent.provides', this);\n        }\n        if (provide) {\n            // tslint:disable:no-any\n            var injectables = provide;\n            if (typeof provide === 'function') {\n                if (provide.managed) {\n                    var provideKey = provide.managed;\n                    var provideValue = Object.keys(provideKey);\n                    var key = void 0;\n                    if (this.$root && this.isDecorator) {\n                        key = Object.keys(this.$root);\n                    }\n                    else if (this.$vnode) {\n                        key = Object.keys(this.$vnode.context);\n                    }\n                    else if (this.$parent) {\n                        key = Object.keys(this.$parent);\n                    }\n                    for (var i = 0; i < provideValue.length; i++) {\n                        for (var j = 0; j < key.length; j++) {\n                            if ((key[parseInt(j.toString(), 10)].indexOf(provideValue[parseInt(i.toString(), 10)])) !== -1) {\n                                if (this.$root && this.isDecorator) {\n                                    provideKey[provideValue[parseInt(j.toString(), 10)]] = this.$root[key[parseInt(i.toString(), 10)]];\n                                }\n                                else if (this.$vnode) {\n                                    provideKey[provideValue[parseInt(i.toString(), 10)]] = this.$vnode.context[key[parseInt(j.toString(), 10)]];\n                                }\n                                else if (this.$parent) {\n                                    provideKey[provideValue[parseInt(i.toString(), 10)]] = this.$parent[key[parseInt(j.toString(), 10)]];\n                                }\n                                injectables = provideKey;\n                            }\n                        }\n                    }\n                }\n                // tslint:disable:no-any\n                else if (this.$vnode) {\n                    injectables = this.$vnode.context.$options.provide();\n                }\n                else if (this.$parent) {\n                    injectables = this.$parent.$options.provide();\n                }\n            }\n            ret = injectables[this.ej2Instances.getModuleName()] || [];\n        }\n        this.isDecorator = false;\n        return ret;\n    };\n    ComponentBase.prototype.updated = function () {\n        if (this.isVue3) {\n            this.setModelValue();\n        }\n        if (this.hasChildDirective) {\n            var childKey = {};\n            this.fetchChildPropValues(childKey);\n            var curChildDir = JSON.stringify(childKey);\n            if (this.childDirObjects !== curChildDir) {\n                this.childDirObjects = curChildDir;\n                this.assignValueToWrapper(childKey, false);\n            }\n        }\n    };\n    ComponentBase.prototype.beforeDestroy = function () {\n        this.destroyComponent();\n    };\n    ComponentBase.prototype.beforeUnmount = function () {\n        this.destroyComponent();\n    };\n    ComponentBase.prototype.destroyComponent = function () {\n        var tempBeforeDestroyThis = this;\n        tempBeforeDestroyThis.ej2Instances.destroy();\n        tempBeforeDestroyThis.$el.style.visibility = 'hidden';\n        tempBeforeDestroyThis = null;\n    };\n    ComponentBase.prototype.bindProperties = function () {\n        var options = {};\n        for (var _i = 0, _a = this.propKeys; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            if ((!isNullOrUndefined(this[\"\" + prop]) && !this.isVue3) || (this[0] && !isNullOrUndefined(this[0][0]) && !isNullOrUndefined(this[0][0][\"\" + prop]))) {\n                options[\"\" + prop] = !this.isVue3 ? this[\"\" + prop] : this[0][0][\"\" + prop];\n            }\n        }\n        if (this.hasChildDirective) {\n            this.fetchChildPropValues(options);\n        }\n        if (this.hasInjectedModules) {\n            var prevModule = this.getInjectedServices() || [];\n            var curModule = this.ej2Instances.getInjectedModules() || [];\n            for (var _b = 0, curModule_2 = curModule; _b < curModule_2.length; _b++) {\n                var mod = curModule_2[_b];\n                if (prevModule.indexOf(mod) === -1) {\n                    prevModule.push(mod);\n                }\n            }\n            this.ej2Instances.injectedModules = prevModule;\n        }\n        this.assignValueToWrapper(options);\n    };\n    ComponentBase.prototype.assignValueToWrapper = function (option, silent) {\n        this.ej2Instances.setProperties(extend({}, {}, option, true), isNullOrUndefined(silent) ? true : silent);\n    };\n    ComponentBase.prototype.fetchChildPropValues = function (childOption) {\n        var dirProps = {};\n        if (!this.isVue3) {\n            dirProps = this.getDirectiveValues(this.$slots.default, this.tagMapper || {}, this.tagNameMapper || {});\n        }\n        else {\n            var propRef = void 0;\n            if (this[0] && this[0][1].slots.default) {\n                propRef = this[0][1].slots.default();\n            }\n            else if (this && this.$ && this.$.slots && this.$.slots.default) {\n                propRef = this.$.slots.default();\n            }\n            if (propRef) {\n                for (var i = 0; i < propRef.length; i++) {\n                    if (propRef[parseInt(i.toString(), 10)].type.methods || propRef[parseInt(i.toString(), 10)].type === 'e-seriescollection') {\n                        var key = propRef[parseInt(i.toString(), 10)].type === 'e-seriescollection' ? 'series-collection' :\n                            propRef[parseInt(i.toString(), 10)].type.methods.getTag().replace(\"e-\", \"\");\n                        var ref = this.resolveArrayDirectives(propRef[parseInt(i.toString(), 10)].children, key);\n                        var splitKeys = key.split('-');\n                        var controlName = this.ej2Instances.getModuleName().toLowerCase();\n                        var keyRef = (splitKeys.length > 1 && controlName.indexOf(splitKeys[0]) > -1) ? splitKeys[1] : splitKeys[0];\n                        keyRef = keyRef.replace(controlName, '');\n                        if (controlName == \"splitter\" && keyRef == \"panes\") {\n                            keyRef = \"paneSettings\";\n                        }\n                        else if (controlName == \"bulletchart\" && keyRef == \"range\") {\n                            keyRef = \"ranges\";\n                        }\n                        else if (controlName == \"schedule\" && keyRef == \"header\") {\n                            keyRef = \"headerRows\";\n                        }\n                        dirProps[\"\" + keyRef] = ref[\"\" + key];\n                    }\n                }\n            }\n            else {\n                return;\n            }\n        }\n        if (!this.childDirObjects) {\n            this.childDirObjects = JSON.stringify(dirProps);\n        }\n        for (var _i = 0, _a = Object.keys(dirProps); _i < _a.length; _i++) {\n            var dirProp = _a[_i];\n            childOption[\"\" + dirProp] = dirProps[\"\" + dirProp];\n        }\n    };\n    ComponentBase.prototype.resolveArrayDirectives = function (slots, tagName) {\n        var slot = [];\n        var innerDirValues;\n        slot = slots.default ? slots.default() : slots;\n        var items = {};\n        items[\"\" + tagName] = [];\n        var _loop_2 = function (childSlot) {\n            var tempObj = {};\n            var tagRef = childSlot.type.methods ? childSlot.type.methods.getTag() : tagName;\n            if (childSlot.children) {\n                var key = void 0;\n                innerDirValues = this_2.resolveComplexDirs(childSlot.children, this_2.tagMapper[\"e-\" + tagName], tagRef);\n                if (innerDirValues.length) {\n                    tempObj = innerDirValues;\n                }\n                else {\n                    for (var i = 0; i < Object.keys(innerDirValues).length; i++) {\n                        key = Object.keys(innerDirValues)[parseInt(i.toString(), 10)];\n                        tempObj[\"\" + key] = innerDirValues[\"\" + key];\n                    }\n                    ;\n                }\n            }\n            if (childSlot.props) {\n                Object.keys(childSlot.props).forEach(function (key) {\n                    var propName = key.replace(/-[a-z]/g, function (e) { return e[1].toUpperCase(); });\n                    if (propName) {\n                        tempObj[\"\" + propName] = childSlot.props[\"\" + key];\n                    }\n                });\n            }\n            if (((/[s]\\b/).test(tagRef) && innerDirValues) && (!(/[s]\\b/).test(tagName) || innerDirValues.length)) {\n                items[\"\" + tagName] = tempObj;\n            }\n            else if (tempObj && Object.keys(tempObj).length !== 0) {\n                items[\"\" + tagName].push(tempObj);\n            }\n        };\n        var this_2 = this;\n        for (var _i = 0, slot_1 = slot; _i < slot_1.length; _i++) {\n            var childSlot = slot_1[_i];\n            _loop_2(childSlot);\n        }\n        return items;\n    };\n    ComponentBase.prototype.resolveComplexDirs = function (slots, tagObject, tagName) {\n        var slot = [];\n        var innerDirValues;\n        slot = slots.default ? slots.default() : slots;\n        var items = {};\n        var _loop_3 = function (childSlot) {\n            var tagRef = void 0;\n            var tag = void 0;\n            if (tagObject[\"\" + tagName]) {\n                tagRef = Object.keys(tagObject[\"\" + tagName]);\n                tag = tagRef.find(function (key) {\n                    return tagObject[\"\" + tagName][\"\" + key] ===\n                        childSlot.type.methods.getTag().replace(/[s]\\b/, \"\");\n                });\n                tag = tag\n                    ? tag.replace(\"e-\", \"\")\n                    : childSlot.type.methods.getTag().replace(\"e-\", \"\");\n                if (this_3.ej2Instances.getModuleName().toLowerCase() == \"diagram\" && tag.indexOf('annotations') != -1) {\n                    tag = 'annotations';\n                }\n            }\n            if (childSlot.children) {\n                innerDirValues = this_3.resolveComplexInnerDirs(childSlot.children, tagObject[\"\" + tagName], childSlot.type.methods.getTag());\n                if (!items[\"\" + tag]) {\n                    items[\"\" + tag] = [];\n                }\n                if (innerDirValues.length > 1) {\n                    items[\"\" + tag] = innerDirValues;\n                }\n                else {\n                    items[\"\" + tag].push(innerDirValues);\n                }\n            }\n            if (childSlot.props) {\n                childSlot.props = this_3.getCamelCaseProps(childSlot.props);\n            }\n            if (slot.length > 1) {\n                items = Object.keys(items).length == 0 && !items.length ? [] : items;\n                if (childSlot.props) {\n                    items.push(childSlot.props);\n                }\n            }\n            else {\n                items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n            }\n        };\n        var this_3 = this;\n        for (var _i = 0, slot_2 = slot; _i < slot_2.length; _i++) {\n            var childSlot = slot_2[_i];\n            _loop_3(childSlot);\n        }\n        return items;\n    };\n    ComponentBase.prototype.resolveComplexInnerDirs = function (slots, tagObject, tagName) {\n        var slot = [];\n        var innerDirValues;\n        slot = slots.default ? slots.default() : slots;\n        var items = slot.length > 1 ? [] : {};\n        for (var _i = 0, slot_3 = slot; _i < slot_3.length; _i++) {\n            var childSlot = slot_3[_i];\n            var tag = childSlot.type.methods.getTag().replace(\"e-\", \"\");\n            if (childSlot.children) {\n                innerDirValues = this.resolveMultilevelComplexInnerDirs(childSlot.children, tagObject[\"\" + tagName], childSlot.type.methods.getTag());\n                if ((/[s]\\b/).test(tag) || slot.length > 1) {\n                    if ((/[s]\\b/).test(tag)) {\n                        items[\"\" + tag] = !items[\"\" + tag] ? [] : items[\"\" + tag];\n                        if (innerDirValues.length) {\n                            items[\"\" + tag] = innerDirValues;\n                        }\n                        else {\n                            items[\"\" + tag].push(innerDirValues);\n                        }\n                    }\n                    else if (innerDirValues) {\n                        items.push(innerDirValues);\n                    }\n                }\n                else {\n                    items = innerDirValues ? innerDirValues : items;\n                }\n            }\n            if (childSlot.props) {\n                childSlot.props = this.getCamelCaseProps(childSlot.props);\n            }\n            if (slot.length > 1 && childSlot.props) {\n                if (items.length >= 0) {\n                    items.push(childSlot.props);\n                }\n                else {\n                    items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n                }\n            }\n            else {\n                items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n            }\n        }\n        return items;\n    };\n    ComponentBase.prototype.resolveMultilevelComplexInnerDirs = function (slots, tagObject, tagName) {\n        var slot = [];\n        var innerDirValues;\n        slot = slots.default ? slots.default() : slots;\n        var items = slot.length > 1 ? [] : {};\n        for (var _i = 0, slot_4 = slot; _i < slot_4.length; _i++) {\n            var childSlot = slot_4[_i];\n            var tag = childSlot.type.methods.getTag().replace(\"e-\", \"\");\n            if (childSlot.children) {\n                innerDirValues = this.resolveComplexInnerDirs(childSlot.children, tagObject[\"\" + tagName], childSlot.type.methods.getTag());\n            }\n            if (childSlot.props) {\n                childSlot.props = this.getCamelCaseProps(childSlot.props);\n            }\n            if ((/[s]\\b/).test(tag)) {\n                items[\"\" + tag] = !items[\"\" + tag] ? [] : items[\"\" + tag];\n                if (innerDirValues.length) {\n                    items[\"\" + tag] = innerDirValues;\n                }\n                else {\n                    items[\"\" + tag].push(innerDirValues);\n                }\n                if (childSlot.props) {\n                    items[\"\" + tag].push(childSlot.props);\n                }\n            }\n            else {\n                items = innerDirValues;\n                items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n            }\n        }\n        return items;\n    };\n    ComponentBase.prototype.getDirectiveValues = function (tagDirectives, tagMapper, tagNameMapper) {\n        var keyTags = Object.keys(tagMapper);\n        var dir = {};\n        if (tagDirectives) {\n            for (var _i = 0, tagDirectives_1 = tagDirectives; _i < tagDirectives_1.length; _i++) {\n                var tagDirective = tagDirectives_1[_i];\n                if (tagDirective.componentOptions && tagDirective.componentOptions.children && tagDirective.componentOptions.tag ||\n                    (tagDirective.tag === 'e-seriescollection' && tagDirective.children)) {\n                    var dirTag = tagDirective.componentOptions ? tagDirective.componentOptions.tag : tagDirective.tag;\n                    dirTag = (dirTag === 'e-seriescollection') ? 'e-seriesCollection' : dirTag;\n                    if (keyTags.indexOf(dirTag) !== -1) {\n                        var tagName = tagNameMapper[\"\" + dirTag] ? tagNameMapper[\"\" + dirTag] : dirTag;\n                        dir[tagName.replace('e-', '')] = [];\n                        var children = tagDirective.componentOptions ? tagDirective.componentOptions.children : tagDirective.children;\n                        for (var _a = 0, children_1 = children; _a < children_1.length; _a++) {\n                            var tagDirChild = children_1[_a];\n                            var retObj = this.getVNodeValue(tagDirChild, tagMapper[\"\" + dirTag], tagNameMapper);\n                            if (Object.keys(retObj).length !== 0) {\n                                dir[tagName.replace('e-', '')].push(retObj);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return dir;\n    };\n    ComponentBase.prototype.getMultiLevelDirValue = function (tagDirectories, tagKey, tagNameMapper) {\n        var mulObj = {};\n        for (var _i = 0, tagDirectories_1 = tagDirectories; _i < tagDirectories_1.length; _i++) {\n            var tagDir = tagDirectories_1[_i];\n            var key = void 0;\n            var children = void 0;\n            if (tagDir.componentOptions) {\n                key = tagDir.componentOptions.tag;\n                if (tagDir.componentOptions.children) {\n                    children = tagDir.componentOptions.children;\n                }\n            }\n            else if ((tagDir.tag === 'e-markersettings' || tagDir.tag === 'e-markersetting') && tagDir.children) {\n                key = (tagDir.tag === 'e-markersettings') ? 'e-markerSettings' : 'e-markerSetting';\n                children = tagDir.children;\n            }\n            if (key) {\n                var tagName = tagNameMapper[\"\" + key] ? tagNameMapper[\"\" + key] : key;\n                mulObj[tagName.replace('e-', '')] = [];\n                if (children) {\n                    for (var _a = 0, children_2 = children; _a < children_2.length; _a++) {\n                        var tagDirChild = children_2[_a];\n                        var mulLevObj = this.getVNodeValue(tagDirChild, tagKey[\"\" + key], tagNameMapper);\n                        if (Object.keys(mulLevObj).length !== 0) {\n                            mulObj[tagName.replace('e-', '')].push(mulLevObj);\n                        }\n                    }\n                }\n            }\n        }\n        return mulObj;\n    };\n    ComponentBase.prototype.getVNodeValue = function (tagDirective, tagKey, tagNameMapper) {\n        var ret = {};\n        if (tagDirective.componentOptions || ((tagDirective.tag === 'e-markersettings' || tagDirective.tag === 'e-markersetting') && tagDirective.context)) {\n            var dirTag = void 0;\n            if (tagDirective.componentOptions) {\n                dirTag = tagDirective.componentOptions.tag;\n            }\n            else {\n                dirTag = (tagDirective.tag === 'e-markersettings') ? 'e-markerSettings' : 'e-markerSetting';\n            }\n            if (typeof tagKey === 'string' && dirTag === tagKey && tagDirective.data) {\n                ret = tagDirective.data.attrs ? this.getCamelCaseProps(tagDirective.data.attrs) : this.getCamelCaseProps(tagDirective.data);\n            }\n            else if (typeof tagKey === 'object') {\n                if (tagDirective.componentOptions.children && (Object.keys(tagKey).indexOf(dirTag) !== -1)) {\n                    ret = this.getMultiLevelDirValue(tagDirective.componentOptions.children, tagKey[\"\" + dirTag], tagNameMapper);\n                }\n                else if (tagDirective.children && (Object.keys(tagKey).indexOf(dirTag) !== -1) && (dirTag === 'e-markersettings' || dirTag === 'e-markersetting')) {\n                    ret = this.getMultiLevelDirValue(tagDirective.children, tagKey[\"\" + dirTag], tagNameMapper);\n                }\n                if (tagDirective.data && tagDirective.data.attrs) {\n                    ret = extend(ret, this.getCamelCaseProps(tagDirective.data.attrs));\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * convert kebab case directive props to camel case\n     */\n    ComponentBase.prototype.getCamelCaseProps = function (props) {\n        var retProps = {};\n        for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            retProps[prop.replace(/-[a-z]/g, function (e) { return e[1].toUpperCase(); })] = props[\"\" + prop];\n        }\n        return retProps;\n    };\n    ComponentBase.prototype.dataBind = function () {\n        this.ej2Instances.dataBind();\n    };\n    ComponentBase.prototype.setProperties = function (arg, muteOnChange) {\n        return this.ej2Instances.setProperties(arg, muteOnChange);\n    };\n    return ComponentBase;\n}(vueImport));\nexport { ComponentBase };\n","/**\n * Vue Component Base\n */\nimport Vue from 'vue';\n// import { Base, Component as EJ2Component, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ComponentBase } from './component-base';\nexport var $internalHooks = [\n    'data',\n    'beforeCreate',\n    'created',\n    'beforeMount',\n    'mounted',\n    'beforeDestroy',\n    'destroyed',\n    'beforeUpdate',\n    'updated',\n    'activated',\n    'deactivated',\n    'render',\n    'errorCaptured' // 2.5\n];\nexport function getProps(options) {\n    if (options === void 0) { options = {}; }\n    if (options.props) {\n        var _loop_1 = function (prop) {\n            (options.newprops || (options.newprops = {}))[\"\" + prop] = {};\n            (options.watch || (options.watch = {}))[\"\" + prop] = function (newVal) {\n                this.ej2Instances[\"\" + prop] = newVal;\n                if (this.dataBind && (options.name !== 'DateRangePickerComponent')) {\n                    this.dataBind();\n                }\n            };\n        };\n        for (var _i = 0, _a = options.props; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n    }\n    return [options.newprops, options.watch];\n}\nexport function EJComponentDecorator(options, isExecute) {\n    if (!isExecute) {\n        return;\n    }\n    return function (Component) {\n        return EJcomponentFactory(Component, options);\n    };\n}\nexport function EJcomponentFactory(Component, options) {\n    if (options === void 0) { options = {}; }\n    options.name = options.name || Component._componentTag || Component.name;\n    // prototype props.\n    var proto = Component.prototype;\n    if (options.props) {\n        var _loop_2 = function (prop) {\n            (options.props || (options.props = {}))[\"\" + prop] = {};\n            (options.watch || (options.watch = {}))[\"\" + prop] = function (newVal) {\n                this.ej2Instances[\"\" + prop] = newVal;\n                if (this.dataBind && (options.name !== 'DateRangePickerComponent')) {\n                    this.dataBind();\n                }\n            };\n        };\n        for (var _i = 0, _a = options.props; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_2(prop);\n        }\n    }\n    Object.getOwnPropertyNames(proto).forEach(function (key) {\n        // hooks\n        if (key === 'constructor') {\n            return;\n        }\n        if ($internalHooks.indexOf(key) > -1) {\n            options[\"\" + key] = proto[\"\" + key];\n            return;\n        }\n        var descriptor = Object.getOwnPropertyDescriptor(proto, key);\n        if (typeof descriptor.value === 'function') {\n            // methods\n            (options.methods || (options.methods = {}))[\"\" + key] = descriptor.value;\n        }\n        else if (descriptor.get || descriptor.set) {\n            // computed properties\n            (options.computed || (options.computed = {}))[\"\" + key] = {\n                get: descriptor.get,\n                set: descriptor.set\n            };\n        }\n    });\n    Object.getOwnPropertyNames(ComponentBase.prototype).forEach(function (key) {\n        if ($internalHooks.indexOf(key) > -1) {\n            options[\"\" + key] = proto[\"\" + key];\n            return;\n        }\n    });\n    (options.mixins || (options.mixins = [])).push({\n        data: function () {\n            return collectDataFromConstructor(this, Component);\n        }\n    });\n    //  decorate options\n    var decorators = Component.__decorators__;\n    if (decorators) {\n        decorators.forEach(Function(options));\n        delete Component.__decorators__;\n    }\n    // find super\n    var superProto = Object.getPrototypeOf(Component.prototype);\n    var Super = superProto instanceof Vue\n        ? superProto.constructor\n        : Vue;\n    var Extended = Super.extend(options);\n    return Extended;\n}\nfunction collectDataFromConstructor(vm, Component) {\n    Component.prototype._init = function () {\n        var _this = this;\n        var keys = Object.getOwnPropertyNames(vm);\n        if (vm.$options.props) {\n            for (var key in vm.$options.props) {\n                if (!vm.hasOwnProperty(key)) {\n                    keys.push(key);\n                }\n            }\n        }\n        keys.forEach(function (key) {\n            if (key.charAt(0) !== '_') {\n                Object.defineProperty(_this, key, {\n                    get: function () { return vm[\"\" + key]; },\n                    set: function (value) { return vm[\"\" + key] = value; }\n                });\n            }\n        });\n    };\n    var data = new Component();\n    var plainData = {};\n    Object.keys(data).forEach(function (key) {\n        if (data[\"\" + key] !== undefined) {\n            plainData[\"\" + key] = data[\"\" + key];\n        }\n    });\n    return plainData;\n}\n","import Vue from \"vue\";\nimport { setTemplateEngine, getTemplateEngine, getUniqueID, createElement, detach, extend, getValue, } from \"@syncfusion/ej2-base\";\nimport { allVue, isExecute } from \"./component-base\";\n// tslint:disable:no-any\nvar stringCompiler = getTemplateEngine();\nexport function compile(templateElement, helper) {\n    var that = this;\n    return function (data, context, propName, element, root) {\n        var returnEle;\n        if (context) {\n            var plugins = context.vueInstance ? context.vueInstance.plugins : null;\n            var pid = getUniqueID(\"templateParentDiv\");\n            var id = getUniqueID(\"templateDiv\");\n            var ele = createElement(\"div\", {\n                id: pid,\n                innerHTML: '<div id=\"' + id + '\"></div>',\n            });\n            document.body.appendChild(ele);\n            if (!isExecute && typeof templateElement === \"string\") {\n                var vueSlot_1 = getCurrentVueSlot(context.vueInstance, templateElement, root);\n                if (vueSlot_1) {\n                    // Compilation for Vue 3 slot template\n                    var app = allVue.createApp({\n                        render: function () {\n                            return vueSlot_1[\"\" + templateElement]({ data: data });\n                        }\n                    });\n                    if (plugins) {\n                        for (var i = 0; i < plugins.length; i++) {\n                            app.use(plugins[parseInt(i.toString(), 10)]);\n                        }\n                    }\n                    app.mount((context.getModuleName() === 'grid') ? (\"#\" + pid) : (\"#\" + id));\n                    returnEle = ele.childNodes;\n                    detach(ele);\n                }\n                else {\n                    // Compilation for Vue 3 string template\n                    detach(ele);\n                    return stringCompiler(templateElement, helper)(data);\n                }\n            }\n            else if (!isExecute) {\n                // Compilation for Vue 3 functional template\n                var tempObj = templateElement.call(that, {});\n                var object = tempObj;\n                var propsData = getValue(\"template.propsData\", tempObj);\n                var dataObj = {\n                    data: { data: extend(tempObj.data || {}, data) },\n                    parent: context.vueInstance,\n                };\n                if (!object.template) {\n                    object.template = object[Object.keys(object)[0]];\n                }\n                var templateCompRef = void 0;\n                if (object.template.extends) {\n                    templateCompRef = object.template.extends._context.components.template;\n                }\n                else {\n                    templateCompRef = object.template._context.components[templateElement.name];\n                    if (!templateCompRef) {\n                        var key = Object.keys(object.template._context.components)[0];\n                        templateCompRef = object.template._context.components[\"\" + key];\n                    }\n                }\n                var tempRef_1;\n                if (propsData) {\n                    tempRef_1 = Object.assign(templateCompRef.data(), propsData);\n                }\n                else {\n                    tempRef_1 = Object.assign(templateCompRef.data(), dataObj.data);\n                    if (templateCompRef.components) {\n                        var objkeys = Object.keys(templateCompRef.components) || [];\n                        var _loop_1 = function (objstring) {\n                            var intComponent = templateCompRef.components[\"\" + objstring];\n                            if (intComponent && intComponent.data) {\n                                var tempRef2_1 = Object.assign(intComponent.data(), dataObj.data);\n                                intComponent.data = function () { return tempRef2_1; };\n                            }\n                        };\n                        for (var _i = 0, objkeys_1 = objkeys; _i < objkeys_1.length; _i++) {\n                            var objstring = objkeys_1[_i];\n                            _loop_1(objstring);\n                        }\n                    }\n                }\n                templateCompRef.data = function () { return tempRef_1; };\n                var app = allVue.createApp(templateCompRef);\n                if (plugins) {\n                    for (var i = 0; i < plugins.length; i++) {\n                        app.use(plugins[parseInt(i.toString(), 10)]);\n                    }\n                }\n                app.mount((context.getModuleName() === 'grid') ? (\"#\" + pid) : (\"#\" + id));\n                returnEle = ele.childNodes;\n                detach(ele);\n            }\n            else if (typeof templateElement === \"string\") {\n                var vueSlot_2 = getVueSlot(context.vueInstance, templateElement, root);\n                if (vueSlot_2) {\n                    // Compilation for Vue 2 slot template\n                    var vueTemplate = new Vue({\n                        render: function () {\n                            return vueSlot_2[\"\" + templateElement]({ data: data });\n                        }\n                    });\n                    vueTemplate.$mount(\"#\" + id);\n                    returnEle = ele.childNodes;\n                    detach(ele);\n                }\n                else {\n                    // Compilation for Vue 2 string template\n                    detach(ele);\n                    return stringCompiler(templateElement, helper)(data);\n                }\n            }\n            else {\n                // Compilation for Vue 2 functional template\n                var tempObj = templateElement.call(that, {});\n                var templateFunction = tempObj.template;\n                var propsData = getValue(\"template.propsData\", tempObj);\n                var dataObj = {\n                    data: { data: extend(tempObj.data || {}, data) },\n                    parent: context.vueInstance,\n                };\n                if (propsData) {\n                    templateFunction = tempObj.template.extends;\n                    dataObj.propsData = propsData;\n                }\n                if (typeof templateFunction !== \"function\") {\n                    templateFunction = Vue.extend(templateFunction);\n                }\n                var templateVue = new templateFunction(dataObj);\n                // let templateVue = new Vue(tempObj.template);\n                // templateVue.$data.data = extend(tempObj.data, data);\n                templateVue.$mount(\"#\" + id);\n                returnEle = ele.childNodes;\n                if (context.vueInstance) {\n                    var templateInstance = context.vueInstance.templateCollection;\n                    if (!templateInstance) {\n                        context.vueInstance.templateCollection = {};\n                        templateInstance = context.vueInstance.templateCollection;\n                    }\n                    if (propName) {\n                        if (!templateInstance[\"\" + propName]) {\n                            templateInstance[\"\" + propName] = [];\n                        }\n                        templateInstance[\"\" + propName].push(returnEle[0]);\n                    }\n                }\n                detach(ele);\n            }\n        }\n        return returnEle || [];\n    };\n}\nsetTemplateEngine({ compile: compile });\n// Get the Vue2 slot template from the root or current Vue component.\nfunction getVueSlot(vueInstance, templateElement, root) {\n    if (!vueInstance && !(root && root.vueInstance)) {\n        return undefined;\n    }\n    var instance = (root && root.vueInstance) ? root.vueInstance : vueInstance;\n    return getVueChildSlot(instance, templateElement);\n}\nfunction getVueChildSlot(vueInstance, templateElement) {\n    if (!vueInstance) {\n        return undefined;\n    }\n    var slots = vueInstance.$slots;\n    var scopedSlots = vueInstance.$scopedSlots;\n    var vSlots = vueInstance.scopedSlots;\n    var children = vueInstance.children;\n    if (scopedSlots && scopedSlots[\"\" + templateElement]) {\n        return scopedSlots;\n    }\n    else if (slots && slots.default) {\n        var childSlots = slots.default;\n        for (var i = 0; i < childSlots.length; i++) {\n            var slot = getVueChildSlot(getSlot(childSlots[parseInt(i.toString(), 10)]), templateElement);\n            if (slot) {\n                return slot;\n            }\n        }\n    }\n    else if (vSlots && vSlots[\"\" + templateElement]) {\n        return vSlots;\n    }\n    else if (children) {\n        for (var i = 0; i < children.length; i++) {\n            var slot = getVueChildSlot(getSlot(children[parseInt(i.toString(), 10)]), templateElement);\n            if (slot) {\n                return slot;\n            }\n        }\n    }\n    return undefined;\n}\nfunction getSlot(vnode) {\n    var slot = (vnode.componentOptions && vnode.componentOptions.children) ? vnode.componentOptions :\n        (!vnode.data && (vnode.tag === 'e-markersettings' || vnode.tag === 'e-markersetting')) ? vnode : vnode.data;\n    return vnode.componentInstance ? vnode.componentInstance : slot;\n}\n// Get the Vue3 slot template from the root or current Vue component.\nfunction getCurrentVueSlot(vueInstance, templateElement, root) {\n    if (!vueInstance && !(root && root.vueInstance)) {\n        return undefined;\n    }\n    var slots = (root && root.vueInstance) ? root.vueInstance.$slots : vueInstance.$slots;\n    return getChildVueSlot(slots, templateElement);\n}\nfunction getChildVueSlot(slots, templateElement) {\n    if (slots && slots[\"\" + templateElement]) {\n        return slots;\n    }\n    else if (slots && slots.default) {\n        var childSlots = slots.default();\n        for (var i = 0; i < childSlots.length; i++) {\n            var slot = getChildVueSlot(childSlots[parseInt(i.toString(), 10)].children, templateElement);\n            if (slot) {\n                return slot;\n            }\n        }\n    }\n    return undefined;\n}\n"],"names":["_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","call","default","getProps","options","props","_i","_a","length","prop","newprops","watch","newVal","this","ej2Instances","dataBind","name","EJComponentDecorator","isExecute","Component","EJcomponentFactory","_componentTag","proto","getOwnPropertyNames","forEach","$internalHooks","indexOf","descriptor","getOwnPropertyDescriptor","value","methods","get","set","computed","ComponentBase","mixins","push","data","collectDataFromConstructor","decorators","__decorators__","Function","superProto","getPrototypeOf","Vue","constructor","extend","vm","_init","_this","keys","$options","charAt","defineProperty","plainData","undefined","compile","templateElement","helper","that","context","propName","element","root","returnEle","plugins","vueInstance","pid","getUniqueID","id","ele","createElement","innerHTML","document","body","appendChild","vueSlot_2","getVueSlot","detach","stringCompiler","render","$mount","childNodes","tempObj","templateFunction","template","propsData","getValue","dataObj","parent","extends","templateInstance","templateCollection","object","templateCompRef","_context","components","tempRef_1","assign","objkeys_1","objstring","intComponent","tempRef2_1","app","allVue","createApp","i","use","parseInt","toString","mount","getModuleName","vueSlot_1","getCurrentVueSlot","getVueChildSlot","slots","$slots","scopedSlots","$scopedSlots","vSlots","children","childSlots","slot","getSlot","vnode","componentOptions","tag","componentInstance","getChildVueSlot","vueImport","__extends","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","__","create","aVue","Vue2","gh","h","version","_super","arguments","hasInjectedModules","hasChildDirective","childDirObjects","isDecorator","created","propKeys","this_1","addEventListener","args","$emit","injectables","vueInjectables","isNullOrUndefined","prevModule","managed","getInjectedServices","_b","curModule_1","getInjectedModules","mod","injectedModules","mounted","cusEle","$el","querySelectorAll","parentElement","removeChild","isVue","isVue3","referModels","models","setModelValue","appendTo","modelValue","$attrs","propKey","match","provide","ret","$root","$vnode","$parent","$","provideKey","provideValue","j","updated","childKey","fetchChildPropValues","curChildDir","JSON","stringify","assignValueToWrapper","beforeDestroy","destroyComponent","beforeUnmount","tempBeforeDestroyThis","destroy","style","visibility","bindProperties","curModule_2","option","silent","setProperties","childOption","dirProps","propRef","type","getTag","replace","ref","resolveArrayDirectives","splitKeys","split","controlName","toLowerCase","keyRef","getDirectiveValues","tagMapper","tagNameMapper","dirProp","tagName","innerDirValues","items","this_2","slot_1","childSlot","tagRef","resolveComplexDirs","e","toUpperCase","test","tagObject","this_3","slot_2","find","resolveComplexInnerDirs","getCamelCaseProps","slot_3","resolveMultilevelComplexInnerDirs","slot_4","tagDirectives","keyTags","dir","tagDirectives_1","tagDirective","dirTag","children_1","tagDirChild","retObj","getVNodeValue","getMultiLevelDirValue","tagDirectories","tagKey","mulObj","tagDirectories_1","tagDir","children_2","mulLevObj","attrs","retProps","arg","muteOnChange","Vue3.Vue","getTemplateEngine","setTemplateEngine"],"mappings":"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"}