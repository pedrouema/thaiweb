{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Internationalization } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, L10n } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { cldrData, getDefaultDateObject, rippleEffect } from '@syncfusion/ej2-base';\nimport { removeClass, detach, closest, addClass, attributes } from '@syncfusion/ej2-base';\nimport { getValue, getUniqueID, extend, Browser } from '@syncfusion/ej2-base';\nimport { Property, Event, isNullOrUndefined, throwError } from '@syncfusion/ej2-base';\n//class constant defination.\nvar OTHERMONTH = 'e-other-month';\nvar OTHERDECADE = 'e-other-year';\nvar ROOT = 'e-calendar';\nvar DEVICE = 'e-device';\nvar HEADER = 'e-header';\nvar RTL = 'e-rtl';\nvar CONTENT = 'e-content';\nvar YEAR = 'e-year';\nvar MONTH = 'e-month';\nvar DECADE = 'e-decade';\nvar ICON = 'e-icons';\nvar PREVICON = 'e-prev';\nvar NEXTICON = 'e-next';\nvar PREVSPAN = 'e-date-icon-prev';\nvar NEXTSPAN = 'e-date-icon-next ';\nvar ICONCONTAINER = 'e-icon-container';\nvar DISABLED = 'e-disabled';\nvar OVERLAY = 'e-overlay';\nvar WEEKEND = 'e-weekend';\nvar WEEKNUMBER = 'e-week-number';\nvar SELECTED = 'e-selected';\nvar FOCUSEDDATE = 'e-focused-date';\nvar OTHERMONTHROW = 'e-month-hide';\nvar TODAY = 'e-today';\nvar TITLE = 'e-title';\nvar LINK = 'e-day';\nvar CELL = 'e-cell';\nvar WEEKHEADER = 'e-week-header';\nvar ZOOMIN = 'e-zoomin';\nvar FOOTER = 'e-footer-container';\nvar BTN = 'e-btn';\nvar FLAT = 'e-flat';\nvar CSS = 'e-css';\nvar PRIMARY = 'e-primary';\nvar DAYHEADERLONG = 'e-calendar-day-header-lg';\nvar dayMilliSeconds = 86400000;\nvar minutesMilliSeconds = 60000;\n/**\n *\n * @private\n */\nvar CalendarBase = /** @class */function (_super) {\n  __extends(CalendarBase, _super);\n  /**\n   * Initialized new instance of Calendar Class.\n   * Constructor for creating the widget\n   *\n   * @param {CalendarBaseModel} options - Specifies the CalendarBase model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function CalendarBase(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.effect = '';\n    _this.isPopupClicked = false;\n    _this.isDateSelected = true;\n    _this.isTodayClicked = false;\n    _this.preventChange = false;\n    _this.isAngular = false;\n    _this.previousDates = false;\n    return _this;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n  CalendarBase.prototype.render = function () {\n    this.rangeValidation(this.min, this.max);\n    this.calendarEleCopy = this.element.cloneNode(true);\n    if (this.calendarMode === 'Islamic') {\n      if (+this.min.setSeconds(0) === +new Date(1900, 0, 1, 0, 0, 0)) {\n        this.min = new Date(1944, 2, 18);\n      }\n      if (+this.max === +new Date(2099, 11, 31)) {\n        this.max = new Date(2069, 10, 16);\n      }\n    }\n    this.globalize = new Internationalization(this.locale);\n    if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n      this.setProperties({\n        firstDayOfWeek: this.globalize.getFirstDayOfWeek()\n      }, true);\n    }\n    this.todayDisabled = false;\n    this.todayDate = new Date(new Date().setHours(0, 0, 0, 0));\n    if (this.getModuleName() === 'calendar') {\n      this.element.classList.add(ROOT);\n      if (this.enableRtl) {\n        this.element.classList.add(RTL);\n      }\n      if (Browser.isDevice) {\n        this.element.classList.add(DEVICE);\n      }\n      attributes(this.element, {\n        'data-role': 'calendar'\n      });\n      this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n      this.element.setAttribute('tabindex', this.tabIndex);\n    } else {\n      this.calendarElement = this.createElement('div');\n      this.calendarElement.classList.add(ROOT);\n      if (this.enableRtl) {\n        this.calendarElement.classList.add(RTL);\n      }\n      if (Browser.isDevice) {\n        this.calendarElement.classList.add(DEVICE);\n      }\n      attributes(this.calendarElement, {\n        'data-role': 'calendar'\n      });\n    }\n    if (!isNullOrUndefined(closest(this.element, \"fieldset\")) && closest(this.element, \"fieldset\").disabled) {\n      this.enabled = false;\n    }\n    this.createHeader();\n    this.createContent();\n    this.wireEvents();\n  };\n  CalendarBase.prototype.rangeValidation = function (min, max) {\n    if (isNullOrUndefined(min)) {\n      this.setProperties({\n        min: new Date(1900, 0, 1)\n      }, true);\n    }\n    if (isNullOrUndefined(max)) {\n      this.setProperties({\n        max: new Date(2099, 11, 31)\n      }, true);\n    }\n  };\n  CalendarBase.prototype.getDefaultKeyConfig = function () {\n    this.defaultKeyConfigs = {\n      controlUp: 'ctrl+38',\n      controlDown: 'ctrl+40',\n      moveDown: 'downarrow',\n      moveUp: 'uparrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      select: 'enter',\n      home: 'home',\n      end: 'end',\n      pageUp: 'pageup',\n      pageDown: 'pagedown',\n      shiftPageUp: 'shift+pageup',\n      shiftPageDown: 'shift+pagedown',\n      controlHome: 'ctrl+home',\n      controlEnd: 'ctrl+end',\n      altUpArrow: 'alt+uparrow',\n      spacebar: 'space',\n      altRightArrow: 'alt+rightarrow',\n      altLeftArrow: 'alt+leftarrow'\n    };\n    return this.defaultKeyConfigs;\n  };\n  CalendarBase.prototype.validateDate = function (value) {\n    this.setProperties({\n      min: this.checkDateValue(new Date(this.checkValue(this.min)))\n    }, true);\n    this.setProperties({\n      max: this.checkDateValue(new Date(this.checkValue(this.max)))\n    }, true);\n    this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0));\n    if (!isNullOrUndefined(value) && this.min <= this.max && value >= this.min && value <= this.max) {\n      this.currentDate = new Date(this.checkValue(value));\n    }\n  };\n  CalendarBase.prototype.setOverlayIndex = function (popupWrapper, popupElement, modal, isDevice) {\n    if (isDevice && !isNullOrUndefined(popupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n      var index = parseInt(popupElement.style.zIndex, 10) ? parseInt(popupElement.style.zIndex, 10) : 1000;\n      modal.style.zIndex = (index - 1).toString();\n      popupWrapper.style.zIndex = index.toString();\n    }\n  };\n  CalendarBase.prototype.minMaxUpdate = function (value) {\n    if (!(+this.min <= +this.max)) {\n      this.setProperties({\n        min: this.min\n      }, true);\n      addClass([this.element], OVERLAY);\n    } else {\n      removeClass([this.element], OVERLAY);\n    }\n    this.min = isNullOrUndefined(this.min) || !+this.min ? this.min = new Date(1900, 0, 1) : this.min;\n    this.max = isNullOrUndefined(this.max) || !+this.max ? this.max = new Date(2099, 11, 31) : this.max;\n    if (+this.min <= +this.max && value && +value <= +this.max && +value >= +this.min) {\n      this.currentDate = new Date(this.checkValue(value));\n    } else {\n      if (+this.min <= +this.max && !value && +this.currentDate > +this.max) {\n        this.currentDate = new Date(this.checkValue(this.max));\n      } else {\n        if (+this.currentDate < +this.min) {\n          this.currentDate = new Date(this.checkValue(this.min));\n        }\n      }\n    }\n  };\n  CalendarBase.prototype.createHeader = function () {\n    var ariaPrevAttrs = {\n      'aria-disabled': 'false',\n      'aria-label': 'previous month'\n    };\n    var ariaNextAttrs = {\n      'aria-disabled': 'false',\n      'aria-label': 'next month'\n    };\n    var ariaTitleAttrs = {\n      'aria-atomic': 'true',\n      'aria-live': 'assertive',\n      'aria-label': 'title'\n    };\n    this.headerElement = this.createElement('div', {\n      className: HEADER\n    });\n    var iconContainer = this.createElement('div', {\n      className: ICONCONTAINER\n    });\n    this.previousIcon = this.createElement('button', {\n      className: '' + PREVICON,\n      attrs: {\n        type: 'button'\n      }\n    });\n    rippleEffect(this.previousIcon, {\n      duration: 400,\n      selector: '.e-prev',\n      isCenterRipple: true\n    });\n    attributes(this.previousIcon, ariaPrevAttrs);\n    this.nextIcon = this.createElement('button', {\n      className: '' + NEXTICON,\n      attrs: {\n        type: 'button'\n      }\n    });\n    rippleEffect(this.nextIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n    if (this.getModuleName() === 'daterangepicker') {\n      attributes(this.previousIcon, {\n        tabIndex: '-1'\n      });\n      attributes(this.nextIcon, {\n        tabIndex: '-1'\n      });\n    }\n    attributes(this.nextIcon, ariaNextAttrs);\n    this.headerTitleElement = this.createElement('div', {\n      className: '' + LINK + ' ' + TITLE\n    });\n    attributes(this.headerTitleElement, ariaTitleAttrs);\n    this.headerElement.appendChild(this.headerTitleElement);\n    this.previousIcon.appendChild(this.createElement('span', {\n      className: '' + PREVSPAN + ' ' + ICON\n    }));\n    this.nextIcon.appendChild(this.createElement('span', {\n      className: '' + NEXTSPAN + ' ' + ICON\n    }));\n    iconContainer.appendChild(this.previousIcon);\n    iconContainer.appendChild(this.nextIcon);\n    this.headerElement.appendChild(iconContainer);\n    if (this.getModuleName() === 'calendar') {\n      this.element.appendChild(this.headerElement);\n    } else {\n      this.calendarElement.appendChild(this.headerElement);\n    }\n    this.adjustLongHeaderSize();\n  };\n  CalendarBase.prototype.createContent = function () {\n    this.contentElement = this.createElement('div', {\n      className: CONTENT\n    });\n    this.table = this.createElement('table', {\n      attrs: {\n        tabIndex: '0',\n        'role': 'grid',\n        'aria-activedescendant': '',\n        'aria-labelledby': this.element.id\n      }\n    });\n    if (this.getModuleName() === 'calendar') {\n      this.element.appendChild(this.contentElement);\n    } else {\n      this.calendarElement.appendChild(this.contentElement);\n    }\n    this.contentElement.appendChild(this.table);\n    this.createContentHeader();\n    this.createContentBody();\n    if (this.showTodayButton) {\n      this.createContentFooter();\n    }\n  };\n  CalendarBase.prototype.getCultureValues = function () {\n    var culShortNames = [];\n    var cldrObj;\n    var dayFormat = 'days.stand-alone.' + this.dayHeaderFormat.toLowerCase();\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrObj = getValue(dayFormat, getDefaultDateObject());\n    } else {\n      cldrObj = this.getCultureObjects(cldrData, '' + this.locale);\n    }\n    if (!isNullOrUndefined(cldrObj)) {\n      for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {\n        var obj = _a[_i];\n        culShortNames.push(getValue(obj, cldrObj));\n      }\n    }\n    return culShortNames;\n  };\n  CalendarBase.prototype.toCapitalize = function (text) {\n    return !isNullOrUndefined(text) && text.length ? text[0].toUpperCase() + text.slice(1) : text;\n  };\n  CalendarBase.prototype.createContentHeader = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content .e-week-header')[0])) {\n        detach(this.element.querySelectorAll('.e-content .e-week-header')[0]);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0])) {\n        detach(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0]);\n      }\n    }\n    var daysCount = 6;\n    var html = '';\n    if (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n      this.setProperties({\n        firstDayOfWeek: 0\n      }, true);\n    }\n    this.tableHeadElement = this.createElement('thead', {\n      className: WEEKHEADER\n    });\n    if (this.weekNumber) {\n      html += '<th class=\"e-week-number\"></th>';\n      if (this.getModuleName() === 'calendar') {\n        addClass([this.element], '' + WEEKNUMBER);\n      } else {\n        addClass([this.calendarElement], '' + WEEKNUMBER);\n      }\n    }\n    // eslint-disable-next-line max-len\n    var shortNames = this.getCultureValues().length > 0 && this.getCultureValues() ? this.shiftArray(this.getCultureValues().length > 0 && this.getCultureValues(), this.firstDayOfWeek) : null;\n    if (!isNullOrUndefined(shortNames)) {\n      for (var days = 0; days <= daysCount; days++) {\n        html += '<th  class=\"\">' + this.toCapitalize(shortNames[days]) + '</th>';\n      }\n    }\n    html = '<tr>' + html + '</tr>';\n    this.tableHeadElement.innerHTML = html;\n    this.table.appendChild(this.tableHeadElement);\n  };\n  CalendarBase.prototype.createContentBody = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content tbody')[0])) {\n        detach(this.element.querySelectorAll('.e-content tbody')[0]);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content tbody')[0])) {\n        detach(this.calendarElement.querySelectorAll('.e-content tbody')[0]);\n      }\n    }\n    switch (this.start) {\n      case 'Year':\n        this.renderYears();\n        break;\n      case 'Decade':\n        this.renderDecades();\n        break;\n      default:\n        this.renderMonths();\n    }\n  };\n  CalendarBase.prototype.updateFooter = function () {\n    this.todayElement.textContent = this.l10.getConstant('today');\n    this.todayElement.setAttribute('aria-label', this.l10.getConstant('today'));\n  };\n  CalendarBase.prototype.createContentFooter = function () {\n    if (this.showTodayButton) {\n      var minimum = new Date(+this.min);\n      var maximum = new Date(+this.max);\n      var l10nLocale = {\n        today: 'Today'\n      };\n      this.globalize = new Internationalization(this.locale);\n      this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n      this.todayElement = this.createElement('button', {\n        attrs: {\n          role: 'button'\n        }\n      });\n      rippleEffect(this.todayElement);\n      this.updateFooter();\n      addClass([this.todayElement], [BTN, TODAY, FLAT, PRIMARY, CSS]);\n      if (!(+new Date(minimum.setHours(0, 0, 0, 0)) <= +this.todayDate && +this.todayDate <= +new Date(maximum.setHours(0, 0, 0, 0))) || this.todayDisabled) {\n        addClass([this.todayElement], DISABLED);\n      }\n      this.footer = this.createElement('div', {\n        className: FOOTER\n      });\n      this.footer.appendChild(this.todayElement);\n      if (this.getModuleName() === 'calendar') {\n        this.element.appendChild(this.footer);\n      }\n      if (this.getModuleName() === 'datepicker') {\n        this.calendarElement.appendChild(this.footer);\n      }\n      if (this.getModuleName() === 'datetimepicker') {\n        this.calendarElement.appendChild(this.footer);\n      }\n      if (!this.todayElement.classList.contains(DISABLED)) {\n        EventHandler.add(this.todayElement, 'click', this.todayButtonClick, this);\n      }\n    }\n  };\n  CalendarBase.prototype.wireEvents = function (id, ref, keyConfig, moduleName) {\n    EventHandler.add(this.headerTitleElement, 'click', this.navigateTitle, this);\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n    if (this.getModuleName() === 'calendar') {\n      this.keyboardModule = new KeyboardEvents(this.element, {\n        eventName: 'keydown',\n        keyAction: this.keyActionHandle.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    } else {\n      this.keyboardModule = new KeyboardEvents(this.calendarElement, {\n        eventName: 'keydown',\n        keyAction: this.keyActionHandle.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    }\n  };\n  CalendarBase.prototype.dateWireEvents = function (id, ref, keyConfig, moduleName) {\n    this.defaultKeyConfigs = this.getDefaultKeyConfig();\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, keyConfig);\n    this.serverModuleName = moduleName;\n  };\n  CalendarBase.prototype.todayButtonClick = function (e, value, isCustomDate) {\n    if (this.showTodayButton) {\n      if (this.currentView() === this.depth) {\n        this.effect = '';\n      } else {\n        this.effect = 'e-zoomin';\n      }\n      if (this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n        this.navigateTo(this.depth, new Date(this.checkValue(value)), isCustomDate);\n      } else {\n        this.navigateTo('Month', new Date(this.checkValue(value)), isCustomDate);\n      }\n    }\n  };\n  CalendarBase.prototype.resetCalendar = function () {\n    this.calendarElement && detach(this.calendarElement);\n    this.tableBodyElement && detach(this.tableBodyElement);\n    this.table && detach(this.table);\n    this.tableHeadElement && detach(this.tableHeadElement);\n    this.nextIcon && detach(this.nextIcon);\n    this.previousIcon && detach(this.previousIcon);\n    this.footer && detach(this.footer);\n    this.todayElement = null;\n    this.renderDayCellArgs = null;\n    this.calendarElement = this.tableBodyElement = this.footer = this.tableHeadElement = this.nextIcon = this.previousIcon = this.table = null;\n  };\n  CalendarBase.prototype.keyActionHandle = function (e, value, multiSelection) {\n    var focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n    var selectedDate;\n    if (multiSelection) {\n      if (!isNullOrUndefined(focusedDate) && +value === parseInt(focusedDate.getAttribute('id').split('_')[0], 10)) {\n        selectedDate = focusedDate;\n      } else {\n        selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n      }\n    } else {\n      selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n    }\n    var view = this.getViewNumber(this.currentView());\n    var depthValue = this.getViewNumber(this.depth);\n    var levelRestrict = view === depthValue && this.getViewNumber(this.start) >= depthValue;\n    this.effect = '';\n    switch (e.action) {\n      case 'moveLeft':\n        this.keyboardNavigate(-1, view, e, this.max, this.min);\n        e.preventDefault();\n        break;\n      case 'moveRight':\n        this.keyboardNavigate(1, view, e, this.max, this.min);\n        e.preventDefault();\n        break;\n      case 'moveUp':\n        if (view === 0) {\n          this.keyboardNavigate(-7, view, e, this.max, this.min); // move the current date to the previous seven days.\n        } else {\n          this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n        }\n\n        e.preventDefault();\n        break;\n      case 'moveDown':\n        if (view === 0) {\n          this.keyboardNavigate(7, view, e, this.max, this.min);\n        } else {\n          this.keyboardNavigate(4, view, e, this.max, this.min);\n        }\n        e.preventDefault();\n        break;\n      case 'select':\n        if (e.target === this.todayElement) {\n          this.todayButtonClick(e, value);\n        } else {\n          var element = !isNullOrUndefined(focusedDate) ? focusedDate : selectedDate;\n          if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n            if (levelRestrict) {\n              // eslint-disable-next-line radix\n              var d = new Date(parseInt('' + element.id, 0));\n              this.selectDate(e, d, element);\n            } else {\n              this.contentClick(null, --view, element, value);\n            }\n          }\n        }\n        break;\n      case 'controlUp':\n        this.title();\n        e.preventDefault();\n        break;\n      case 'controlDown':\n        if (!isNullOrUndefined(focusedDate) && !levelRestrict || !isNullOrUndefined(selectedDate) && !levelRestrict) {\n          this.contentClick(null, --view, focusedDate || selectedDate, value);\n        }\n        e.preventDefault();\n        break;\n      case 'home':\n        this.currentDate = this.firstDay(this.currentDate);\n        detach(this.tableBodyElement);\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n        e.preventDefault();\n        break;\n      case 'end':\n        this.currentDate = this.lastDay(this.currentDate, view);\n        detach(this.tableBodyElement);\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n        e.preventDefault();\n        break;\n      case 'pageUp':\n        this.addMonths(this.currentDate, -1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n      case 'pageDown':\n        this.addMonths(this.currentDate, 1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n      case 'shiftPageUp':\n        this.addYears(this.currentDate, -1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n      case 'shiftPageDown':\n        this.addYears(this.currentDate, 1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n      case 'controlHome':\n        this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 0, 1));\n        e.preventDefault();\n        break;\n      case 'controlEnd':\n        this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 11, 31));\n        e.preventDefault();\n        break;\n    }\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n  CalendarBase.prototype.keyboardNavigate = function (number, currentView, e, max, min) {\n    var date = new Date(this.checkValue(this.currentDate));\n    switch (currentView) {\n      case 2:\n        this.addYears(this.currentDate, number);\n        if (this.isMonthYearRange(this.currentDate)) {\n          detach(this.tableBodyElement);\n          this.renderDecades(e);\n        } else {\n          this.currentDate = date;\n        }\n        break;\n      case 1:\n        this.addMonths(this.currentDate, number);\n        if (this.calendarMode === 'Gregorian') {\n          if (this.isMonthYearRange(this.currentDate)) {\n            detach(this.tableBodyElement);\n            this.renderYears(e);\n          } else {\n            this.currentDate = date;\n          }\n        } else {\n          if (this.isMonthYearRange(this.currentDate)) {\n            detach(this.tableBodyElement);\n            this.renderYears(e);\n          } else {\n            this.currentDate = date;\n          }\n        }\n        break;\n      case 0:\n        this.addDay(this.currentDate, number, e, max, min);\n        if (this.isMinMaxRange(this.currentDate)) {\n          detach(this.tableBodyElement);\n          this.renderMonths(e);\n        } else {\n          this.currentDate = date;\n        }\n        break;\n    }\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @param {Date} value - Specifies value of date.\n   * @returns {void}\n   * @private\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CalendarBase.prototype.preRender = function (value) {\n    var _this = this;\n    this.navigatePreviousHandler = this.navigatePrevious.bind(this);\n    this.navigateNextHandler = this.navigateNext.bind(this);\n    this.defaultKeyConfigs = this.getDefaultKeyConfig();\n    this.navigateHandler = function (e) {\n      _this.triggerNavigate(e);\n    };\n  };\n  CalendarBase.prototype.minMaxDate = function (localDate) {\n    var currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0));\n    var minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0));\n    var maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));\n    if (+currentDate === +minDate || +currentDate === +maxDate) {\n      if (+localDate < +this.min) {\n        localDate = new Date(+this.min);\n      }\n      if (+localDate > +this.max) {\n        localDate = new Date(+this.max);\n      }\n    }\n    return localDate;\n  };\n  CalendarBase.prototype.renderMonths = function (e, value, isCustomDate) {\n    var numCells = this.weekNumber ? 8 : 7;\n    var tdEles;\n    if (this.calendarMode === 'Gregorian') {\n      tdEles = this.renderDays(this.currentDate, value, null, null, isCustomDate, e);\n    } else {\n      tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n    }\n    this.createContentHeader();\n    if (this.calendarMode === 'Gregorian') {\n      this.renderTemplate(tdEles, numCells, MONTH, e, value);\n    } else {\n      this.islamicModule.islamicRenderTemplate(tdEles, numCells, MONTH, e, value);\n    }\n  };\n  CalendarBase.prototype.renderDays = function (currentDate, value, multiSelection, values, isTodayDate, e) {\n    var tdEles = [];\n    var cellsCount = 42;\n    var todayDate = isTodayDate ? new Date(+currentDate) : this.getDate(new Date(), this.timezone);\n    var localDate = new Date(this.checkValue(currentDate));\n    var minMaxDate;\n    var currentMonth = localDate.getMonth();\n    this.titleUpdate(currentDate, 'days');\n    var d = localDate;\n    localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds());\n    while (localDate.getDay() !== this.firstDayOfWeek) {\n      this.setStartDate(localDate, -1 * dayMilliSeconds);\n    }\n    for (var day = 0; day < cellsCount; ++day) {\n      var weekEle = this.createElement('td', {\n        className: CELL\n      });\n      var weekAnchor = this.createElement('span');\n      if (day % 7 === 0 && this.weekNumber) {\n        // 6 days are added to get Last day of the week and 3 days are added to get middle day of the week.\n        var numberOfDays = this.weekRule === 'FirstDay' ? 6 : this.weekRule === 'FirstFourDayWeek' ? 3 : 0;\n        var finalDate = new Date(localDate.getFullYear(), localDate.getMonth(), localDate.getDate() + numberOfDays);\n        weekAnchor.textContent = '' + this.getWeek(finalDate);\n        weekEle.appendChild(weekAnchor);\n        addClass([weekEle], '' + WEEKNUMBER);\n        tdEles.push(weekEle);\n      }\n      minMaxDate = new Date(+localDate);\n      localDate = this.minMaxDate(localDate);\n      var dateFormatOptions = {\n        type: 'dateTime',\n        skeleton: 'full'\n      };\n      var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n      var tdEle = this.dayCell(localDate);\n      var title = this.globalize.formatDate(localDate, {\n        type: 'date',\n        skeleton: 'full'\n      });\n      var dayLink = this.createElement('span');\n      dayLink.textContent = this.globalize.formatDate(localDate, {\n        format: 'd',\n        type: 'date',\n        skeleton: 'yMd'\n      });\n      var disabled = this.min > localDate || this.max < localDate;\n      if (disabled) {\n        addClass([tdEle], DISABLED);\n        addClass([tdEle], OVERLAY);\n      } else {\n        dayLink.setAttribute('title', '' + title);\n      }\n      if (currentMonth !== localDate.getMonth()) {\n        addClass([tdEle], OTHERMONTH);\n      }\n      if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n        addClass([tdEle], WEEKEND);\n      }\n      tdEle.appendChild(dayLink);\n      this.renderDayCellArgs = {\n        date: localDate,\n        isDisabled: false,\n        element: tdEle,\n        isOutOfRange: disabled\n      };\n      var argument = this.renderDayCellArgs;\n      this.renderDayCellEvent(argument);\n      if (argument.isDisabled) {\n        var selectDate = new Date(this.checkValue(value));\n        var argsDate = new Date(this.checkValue(argument.date));\n        if (multiSelection) {\n          if (!isNullOrUndefined(values) && values.length > 0) {\n            for (var index = 0; index < values.length; index++) {\n              var localDateString = +new Date(this.globalize.formatDate(argument.date, {\n                type: 'date',\n                skeleton: 'yMd'\n              }));\n              var tempDateString = +new Date(this.globalize.formatDate(values[index], {\n                type: 'date',\n                skeleton: 'yMd'\n              }));\n              if (localDateString === tempDateString) {\n                values.splice(index, 1);\n                index = -1;\n              }\n            }\n          }\n        } else if (selectDate && +selectDate === +argsDate) {\n          this.setProperties({\n            value: null\n          }, true);\n        }\n      }\n      if (this.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED)) {\n        addClass([tdEle], DISABLED);\n        addClass([tdEle], OVERLAY);\n        if (+this.renderDayCellArgs.date === +this.todayDate) {\n          this.todayDisabled = true;\n        }\n      }\n      var otherMnthBool = tdEle.classList.contains(OTHERMONTH);\n      var disabledCls = tdEle.classList.contains(DISABLED);\n      if (!disabledCls) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n      }\n      // to set the value as null while setting the disabled date onProperty change.\n      // if (args.isDisabled && +this.value === +args.date) {\n      //     this.setProperties({ value: null }, true);\n      // }\n      var currentTarget = void 0;\n      if (!isNullOrUndefined(e) && e.type == 'click') {\n        currentTarget = e.currentTarget;\n      }\n      if (multiSelection && !isNullOrUndefined(values) && !disabledCls) {\n        for (var tempValue = 0; tempValue < values.length; tempValue++) {\n          var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n          var formatOptions = {\n            format: null,\n            type: 'date',\n            skeleton: 'short',\n            calendar: type\n          };\n          var localDateString = this.globalize.formatDate(localDate, formatOptions);\n          var tempDateString = this.globalize.formatDate(values[tempValue], formatOptions);\n          if (localDateString === tempDateString && this.getDateVal(localDate, values[tempValue]) || this.getDateVal(localDate, value)) {\n            addClass([tdEle], SELECTED);\n          }\n          if (!isNullOrUndefined(currentTarget) && currentTarget.innerText === tdEle.innerText && this.previousDates && tdEle.classList.contains(SELECTED) && currentTarget.classList.contains(SELECTED)) {\n            removeClass([tdEle], SELECTED);\n            this.previousDates = false;\n            var copyValues = this.copyValues(values);\n            for (var i = 0; i < copyValues.length; i++) {\n              var type_1 = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n              var formatOptions_1 = {\n                format: null,\n                type: 'date',\n                skeleton: 'short',\n                calendar: type_1\n              };\n              var localDateString_1 = this.globalize.formatDate(date, formatOptions_1);\n              var tempDateString_1 = this.globalize.formatDate(copyValues[i], formatOptions_1);\n              if (localDateString_1 === tempDateString_1) {\n                var index = copyValues.indexOf(copyValues[i]);\n                copyValues.splice(index, 1);\n                values.splice(index, 1);\n              }\n            }\n            this.setProperties({\n              values: copyValues\n            }, true);\n          } else {\n            this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n          }\n        }\n        if (values.length <= 0) {\n          this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n        }\n      } else if (!disabledCls && this.getDateVal(localDate, value)) {\n        addClass([tdEle], SELECTED);\n      }\n      this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n      if (date.getFullYear() === todayDate.getFullYear() && date.getMonth() === todayDate.getMonth() && date.getDate() === todayDate.getDate()) {\n        addClass([tdEle], TODAY);\n      }\n      tdEles.push(this.renderDayCellArgs.element);\n      localDate = new Date(+minMaxDate);\n      this.addDay(localDate, 1, null, this.max, this.min);\n    }\n    return tdEles;\n  };\n  CalendarBase.prototype.updateFocus = function (otherMonth, disabled, localDate, tableElement, currentDate) {\n    if (currentDate.getDate() === localDate.getDate() && !otherMonth && !disabled) {\n      addClass([tableElement], FOCUSEDDATE);\n    } else {\n      // eslint-disable-next-line radix\n      if (currentDate >= this.max && parseInt(tableElement.id, 0) === +this.max && !otherMonth && !disabled) {\n        addClass([tableElement], FOCUSEDDATE);\n      }\n      // eslint-disable-next-line radix\n      if (currentDate <= this.min && parseInt(tableElement.id, 0) === +this.min && !otherMonth && !disabled) {\n        addClass([tableElement], FOCUSEDDATE);\n      }\n    }\n  };\n  CalendarBase.prototype.renderYears = function (e, value) {\n    this.removeTableHeadElement();\n    var numCells = 4;\n    var tdEles = [];\n    var valueUtil = isNullOrUndefined(value);\n    var curDate = new Date(this.checkValue(this.currentDate));\n    var mon = curDate.getMonth();\n    var yr = curDate.getFullYear();\n    var localDate = curDate;\n    var curYrs = localDate.getFullYear();\n    var minYr = new Date(this.checkValue(this.min)).getFullYear();\n    var minMonth = new Date(this.checkValue(this.min)).getMonth();\n    var maxYr = new Date(this.checkValue(this.max)).getFullYear();\n    var maxMonth = new Date(this.checkValue(this.max)).getMonth();\n    localDate.setMonth(0);\n    this.titleUpdate(this.currentDate, 'months');\n    localDate.setDate(1);\n    for (var month = 0; month < 12; ++month) {\n      var tdEle = this.dayCell(localDate);\n      var dayLink = this.createElement('span');\n      var localMonth = value && value.getMonth() === localDate.getMonth();\n      var select = value && value.getFullYear() === yr && localMonth;\n      dayLink.textContent = this.toCapitalize(this.globalize.formatDate(localDate, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'MMM'\n      }));\n      if (this.min && (curYrs < minYr || month < minMonth && curYrs === minYr) || this.max && (curYrs > maxYr || month > maxMonth && curYrs >= maxYr)) {\n        addClass([tdEle], DISABLED);\n      } else if (!valueUtil && select) {\n        addClass([tdEle], SELECTED);\n      } else {\n        if (localDate.getMonth() === mon && this.currentDate.getMonth() === mon) {\n          addClass([tdEle], FOCUSEDDATE);\n        }\n      }\n      localDate.setDate(1);\n      localDate.setMonth(localDate.getMonth() + 1);\n      if (!tdEle.classList.contains(DISABLED)) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n      }\n      tdEle.appendChild(dayLink);\n      tdEles.push(tdEle);\n    }\n    this.renderTemplate(tdEles, numCells, YEAR, e, value);\n  };\n  CalendarBase.prototype.renderDecades = function (e, value) {\n    this.removeTableHeadElement();\n    var numCells = 4;\n    var yearCell = 12;\n    var tdEles = [];\n    var localDate = new Date(this.checkValue(this.currentDate));\n    localDate.setMonth(0);\n    localDate.setDate(1);\n    var localYr = localDate.getFullYear();\n    var startYr = new Date(localDate.setFullYear(localYr - localYr % 10));\n    var endYr = new Date(localDate.setFullYear(localYr - localYr % 10 + (10 - 1)));\n    var startFullYr = startYr.getFullYear();\n    var endFullYr = endYr.getFullYear();\n    var startHdrYr = this.globalize.formatDate(startYr, {\n      format: null,\n      type: 'dateTime',\n      skeleton: 'y'\n    });\n    var endHdrYr = this.globalize.formatDate(endYr, {\n      format: null,\n      type: 'dateTime',\n      skeleton: 'y'\n    });\n    this.headerTitleElement.textContent = startHdrYr + ' - ' + endHdrYr;\n    var start = new Date(localYr - localYr % 10 - 1, 0, 1);\n    var startYear = start.getFullYear();\n    for (var rowIterator = 0; rowIterator < yearCell; ++rowIterator) {\n      var year = startYear + rowIterator;\n      localDate.setFullYear(year);\n      var tdEle = this.dayCell(localDate);\n      var dayLink = this.createElement('span');\n      dayLink.textContent = this.globalize.formatDate(localDate, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'y'\n      });\n      if (year < startFullYr || year > endFullYr) {\n        addClass([tdEle], OTHERDECADE);\n        if (!isNullOrUndefined(value) && localDate.getFullYear() === value.getFullYear()) {\n          addClass([tdEle], SELECTED);\n        }\n        if (year < new Date(this.checkValue(this.min)).getFullYear() || year > new Date(this.checkValue(this.max)).getFullYear()) {\n          addClass([tdEle], DISABLED);\n        }\n      } else if (year < new Date(this.checkValue(this.min)).getFullYear() || year > new Date(this.checkValue(this.max)).getFullYear()) {\n        addClass([tdEle], DISABLED);\n      } else if (!isNullOrUndefined(value) && localDate.getFullYear() === value.getFullYear()) {\n        addClass([tdEle], SELECTED);\n      } else {\n        if (localDate.getFullYear() === this.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED)) {\n          addClass([tdEle], FOCUSEDDATE);\n        }\n      }\n      if (!tdEle.classList.contains(DISABLED)) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n      }\n      tdEle.appendChild(dayLink);\n      tdEles.push(tdEle);\n    }\n    this.renderTemplate(tdEles, numCells, 'e-decade', e, value);\n  };\n  CalendarBase.prototype.dayCell = function (localDate) {\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    var dateFormatOptions = {\n      skeleton: 'full',\n      type: 'dateTime',\n      calendar: type\n    };\n    var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n    var value = date.valueOf();\n    var attrs = {\n      className: CELL,\n      attrs: {\n        'id': '' + getUniqueID('' + value),\n        'aria-selected': 'false'\n      }\n    };\n    return this.createElement('td', attrs);\n  };\n  CalendarBase.prototype.firstDay = function (date) {\n    var collection = this.currentView() !== 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '') : this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '');\n    if (collection.length) {\n      for (var i = 0; i < collection.length; i++) {\n        if (!collection[i].classList.contains(DISABLED)) {\n          // eslint-disable-next-line radix\n          date = new Date(parseInt(collection[i].id, 0));\n          break;\n        }\n      }\n    }\n    return date;\n  };\n  CalendarBase.prototype.lastDay = function (date, view) {\n    var lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n    if (view !== 2) {\n      var timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());\n      if (timeOffset) {\n        lastDate.setHours(this.firstDay(date).getHours() + timeOffset / 60);\n      }\n      return this.findLastDay(lastDate);\n    } else {\n      return this.findLastDay(this.firstDay(lastDate));\n    }\n  };\n  CalendarBase.prototype.checkDateValue = function (value) {\n    return !isNullOrUndefined(value) && value instanceof Date && !isNaN(+value) ? value : null;\n  };\n  CalendarBase.prototype.findLastDay = function (date) {\n    var collection = this.currentView() === 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '') : this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '');\n    if (collection.length) {\n      for (var i = collection.length - 1; i >= 0; i--) {\n        if (!collection[i].classList.contains(DISABLED)) {\n          // eslint-disable-next-line radix\n          date = new Date(parseInt(collection[i].id, 0));\n          break;\n        }\n      }\n    }\n    return date;\n  };\n  CalendarBase.prototype.removeTableHeadElement = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content table thead')[0])) {\n        detach(this.tableHeadElement);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content table thead')[0])) {\n        detach(this.tableHeadElement);\n      }\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CalendarBase.prototype.renderTemplate = function (elements, count, classNm, e, value) {\n    var view = this.getViewNumber(this.currentView());\n    var trEle;\n    this.tableBodyElement = this.createElement('tbody');\n    this.table.appendChild(this.tableBodyElement);\n    removeClass([this.contentElement, this.headerElement], [MONTH, DECADE, YEAR]);\n    addClass([this.contentElement, this.headerElement], [classNm]);\n    var weekNumCell = 41;\n    var numberCell = 35;\n    var otherMonthCell = 6;\n    var row = count;\n    var rowIterator = 0;\n    for (var dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n      trEle = this.createElement('tr');\n      for (rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) {\n        if (!elements[rowIterator].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowIterator].children[0])) {\n          addClass([elements[rowIterator].children[0]], [LINK]);\n          rippleEffect(elements[rowIterator].children[0], {\n            duration: 600,\n            isCenterRipple: true\n          });\n        }\n        trEle.appendChild(elements[rowIterator]);\n        if (this.weekNumber && rowIterator === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH)) {\n          addClass([trEle], OTHERMONTHROW);\n        }\n        if (!this.weekNumber && rowIterator === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH)) {\n          addClass([trEle], OTHERMONTHROW);\n        }\n        if (this.weekNumber) {\n          if (rowIterator === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH)) {\n            addClass([trEle], OTHERMONTHROW);\n          }\n        } else {\n          if (rowIterator === numberCell && elements[numberCell].classList.contains(OTHERMONTH)) {\n            addClass([trEle], OTHERMONTHROW);\n          }\n        }\n      }\n      row = row + count;\n      rowIterator = rowIterator + 0;\n      this.tableBodyElement.appendChild(trEle);\n    }\n    this.table.querySelector('tbody').className = this.effect;\n    if (this.calendarMode === 'Gregorian') {\n      this.iconHandler();\n    } else {\n      this.islamicModule.islamicIconHandler();\n    }\n    if (view !== this.getViewNumber(this.currentView()) || view === 0 && view !== this.getViewNumber(this.currentView())) {\n      this.navigateHandler(e);\n    }\n    this.setAriaActiveDescendant();\n  };\n  CalendarBase.prototype.clickHandler = function (e, value) {\n    this.clickEventEmitter(e);\n    var eve = e.currentTarget;\n    var view = this.getViewNumber(this.currentView());\n    if (eve.classList.contains(OTHERMONTH)) {\n      this.contentClick(e, 0, null, value);\n    } else if (view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n      this.contentClick(e, 1, null, value);\n    } else if (2 === view) {\n      this.contentClick(e, 1, null, value);\n    } else if (!eve.classList.contains(OTHERMONTH) && view === 0) {\n      this.selectDate(e, this.getIdValue(e, null), null);\n    } else {\n      this.contentClick(e, 0, eve, value);\n    }\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n  // Content click event handler required for extended components\n  CalendarBase.prototype.clickEventEmitter = function (e) {\n    e.preventDefault();\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CalendarBase.prototype.contentClick = function (e, view, element, value) {\n    var currentView = this.getViewNumber(this.currentView());\n    var d = this.getIdValue(e, element);\n    switch (view) {\n      case 0:\n        if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n          detach(this.tableBodyElement);\n          this.currentDate = d;\n          this.effect = ZOOMIN;\n          this.renderMonths(e);\n        } else {\n          if (this.calendarMode === 'Gregorian') {\n            this.currentDate.setMonth(d.getMonth());\n            if (d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth()) {\n              this.currentDate.setDate(0);\n            }\n            this.currentDate.setFullYear(d.getFullYear());\n          } else {\n            this.currentDate = d;\n          }\n          this.effect = ZOOMIN;\n          detach(this.tableBodyElement);\n          this.renderMonths(e);\n        }\n        break;\n      case 1:\n        if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n          this.selectDate(e, d, null);\n        } else {\n          if (this.calendarMode === 'Gregorian') {\n            this.currentDate.setFullYear(d.getFullYear());\n          } else {\n            this.islamicPreviousHeader = this.headerElement.textContent;\n            var islamicDate = this.islamicModule.getIslamicDate(d);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month, 1);\n          }\n          this.effect = ZOOMIN;\n          detach(this.tableBodyElement);\n          this.renderYears(e);\n        }\n    }\n  };\n  CalendarBase.prototype.switchView = function (view, e, multiSelection, isCustomDate) {\n    switch (view) {\n      case 0:\n        detach(this.tableBodyElement);\n        this.renderMonths(e, null, isCustomDate);\n        break;\n      case 1:\n        detach(this.tableBodyElement);\n        this.renderYears(e);\n        break;\n      case 2:\n        detach(this.tableBodyElement);\n        this.renderDecades(e);\n    }\n  };\n  /**\n   * To get component name\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n  CalendarBase.prototype.getModuleName = function () {\n    return 'calendar';\n  };\n  /**\n   *\n   * @returns {void}\n    */\n  CalendarBase.prototype.requiredModules = function () {\n    var modules = [];\n    if (this) {\n      modules.push({\n        args: [this],\n        member: 'islamic'\n      });\n    }\n    return modules;\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n  CalendarBase.prototype.getPersistData = function () {\n    var keyEntity = ['value'];\n    return this.addOnPersist(keyEntity);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {CalendarBaseModel} newProp - Returns the dynamic property value of the component.\n   * @param {CalendarBaseModel} oldProp - Returns the previous property value of the component.\n   * @param {boolean} multiSelection - - Specifies whether multiple date selection is enabled or not.\n   * @param {Date[]} values - Specifies the dates.\n   * @returns {void}\n   * @private\n   */\n  CalendarBase.prototype.onPropertyChanged = function (newProp, oldProp, multiSelection, values) {\n    this.effect = '';\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'enableRtl':\n          if (newProp.enableRtl) {\n            if (this.getModuleName() === 'calendar') {\n              this.element.classList.add('e-rtl');\n            } else {\n              this.calendarElement.classList.add('e-rtl');\n            }\n          } else {\n            if (this.getModuleName() === 'calendar') {\n              this.element.classList.remove('e-rtl');\n            } else {\n              this.calendarElement.classList.remove('e-rtl');\n            }\n          }\n          break;\n        case 'dayHeaderFormat':\n          this.getCultureValues();\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n          }\n          this.adjustLongHeaderSize();\n          break;\n        case 'min':\n        case 'max':\n          this.rangeValidation(this.min, this.max);\n          if (prop === 'min') {\n            this.setProperties({\n              min: this.checkDateValue(new Date(this.checkValue(newProp.min)))\n            }, true);\n          } else {\n            this.setProperties({\n              max: this.checkDateValue(new Date(this.checkValue(newProp.max)))\n            }, true);\n          }\n          this.setProperties({\n            start: this.currentView()\n          }, true);\n          if (this.tableBodyElement) {\n            detach(this.tableBodyElement);\n          }\n          this.minMaxUpdate();\n          if (multiSelection) {\n            this.validateValues(multiSelection, values);\n          }\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentBody();\n          }\n          if ((this.todayDate < this.min || this.max < this.todayDate) && this.footer && this.todayElement) {\n            detach(this.todayElement);\n            detach(this.footer);\n            this.todayElement = this.footer = null;\n            this.createContentFooter();\n          } else {\n            if (this.footer && this.todayElement && this.todayElement.classList.contains('e-disabled')) {\n              removeClass([this.todayElement], DISABLED);\n              detach(this.todayElement);\n              detach(this.footer);\n              this.todayElement = this.footer = null;\n              this.createContentFooter();\n            }\n          }\n          break;\n        case 'start':\n        case 'depth':\n        case 'weekNumber':\n        case 'firstDayOfWeek':\n        case 'weekRule':\n          this.checkView();\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n            this.createContentBody();\n          }\n          break;\n        case 'locale':\n          this.globalize = new Internationalization(this.locale);\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n            this.createContentBody();\n          }\n          this.l10.setLocale(this.locale);\n          this.updateFooter();\n          break;\n        case 'showTodayButton':\n          if (newProp.showTodayButton) {\n            this.createContentFooter();\n          } else {\n            if (!isNullOrUndefined(this.todayElement) && !isNullOrUndefined(this.footer)) {\n              detach(this.todayElement);\n              detach(this.footer);\n              this.todayElement = this.footer = undefined;\n            }\n          }\n          this.setProperties({\n            showTodayButton: newProp.showTodayButton\n          }, true);\n          break;\n      }\n    }\n  };\n  /**\n   * values property updated with considered disabled dates of the calendar.\n   *\n   * @param {boolean} multiSelection - Specifies whether multiple date selection is enabled.\n   * @param {Date[]} values - Specifies the dates to validate.\n   * @returns {void}\n   */\n  CalendarBase.prototype.validateValues = function (multiSelection, values) {\n    if (multiSelection && !isNullOrUndefined(values) && values.length > 0) {\n      var copyValues = this.copyValues(values);\n      for (var skipIndex = 0; skipIndex < copyValues.length; skipIndex++) {\n        var tempValue = copyValues[skipIndex];\n        var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n        var tempValueString = void 0;\n        if (this.calendarMode === 'Gregorian') {\n          tempValueString = this.globalize.formatDate(tempValue, {\n            type: 'date',\n            skeleton: 'yMd'\n          });\n        } else {\n          tempValueString = this.globalize.formatDate(tempValue, {\n            type: 'dateTime',\n            skeleton: 'full',\n            calendar: 'islamic'\n          });\n        }\n        var minFormatOption = {\n          type: 'date',\n          skeleton: 'yMd',\n          calendar: type\n        };\n        var minStringValue = this.globalize.formatDate(this.min, minFormatOption);\n        var minString = minStringValue;\n        var maxFormatOption = {\n          type: 'date',\n          skeleton: 'yMd',\n          calendar: type\n        };\n        var maxStringValue = this.globalize.formatDate(this.max, maxFormatOption);\n        var maxString = maxStringValue;\n        if (+new Date(tempValueString) < +new Date(minString) || +new Date(tempValueString) > +new Date(maxString)) {\n          copyValues.splice(skipIndex, 1);\n          skipIndex = -1;\n        }\n      }\n      this.setProperties({\n        values: copyValues\n      }, true);\n    }\n  };\n  CalendarBase.prototype.setValueUpdate = function () {\n    if (!isNullOrUndefined(this.tableBodyElement)) {\n      detach(this.tableBodyElement);\n      this.setProperties({\n        start: this.currentView()\n      }, true);\n      this.createContentBody();\n    }\n  };\n  CalendarBase.prototype.copyValues = function (values) {\n    var copyValues = [];\n    if (!isNullOrUndefined(values) && values.length > 0) {\n      for (var index = 0; index < values.length; index++) {\n        copyValues.push(new Date(+values[index]));\n      }\n    }\n    return copyValues;\n  };\n  CalendarBase.prototype.titleUpdate = function (date, view) {\n    var globalize = new Internationalization(this.locale);\n    var dayFormatOptions;\n    var monthFormatOptions;\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    if (this.calendarMode === 'Gregorian') {\n      dayFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        skeleton: 'yMMMM',\n        calendar: type\n      });\n      monthFormatOptions = globalize.formatDate(date, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'y',\n        calendar: type\n      });\n    } else {\n      dayFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        format: 'MMMM y',\n        calendar: type\n      });\n      monthFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        format: 'y',\n        calendar: type\n      });\n    }\n    switch (view) {\n      case 'days':\n        this.headerTitleElement.textContent = this.toCapitalize(dayFormatOptions);\n        break;\n      case 'months':\n        this.headerTitleElement.textContent = monthFormatOptions;\n    }\n  };\n  CalendarBase.prototype.setActiveDescendant = function () {\n    var id;\n    var focusedEle = this.tableBodyElement.querySelector('tr td.e-focused-date');\n    var selectedEle = this.tableBodyElement.querySelector('tr td.e-selected');\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    var title;\n    var view = this.currentView();\n    if (view === 'Month') {\n      title = this.globalize.formatDate(this.currentDate, {\n        type: 'date',\n        skeleton: 'full',\n        calendar: type\n      });\n    } else if (view === 'Year') {\n      if (type !== 'islamic') {\n        title = this.globalize.formatDate(this.currentDate, {\n          type: 'date',\n          skeleton: 'yMMMM',\n          calendar: type\n        });\n      } else {\n        title = this.globalize.formatDate(this.currentDate, {\n          type: 'date',\n          skeleton: 'GyMMM',\n          calendar: type\n        });\n      }\n    } else {\n      title = this.globalize.formatDate(this.currentDate, {\n        format: null,\n        type: 'date',\n        skeleton: 'y',\n        calendar: type\n      });\n    }\n    if (selectedEle || focusedEle) {\n      if (!isNullOrUndefined(selectedEle)) {\n        selectedEle.setAttribute('aria-selected', 'true');\n      }\n      (focusedEle || selectedEle).setAttribute('aria-label', title);\n      id = (focusedEle || selectedEle).getAttribute('id');\n    }\n    return id;\n  };\n  CalendarBase.prototype.iconHandler = function () {\n    new Date(this.checkValue(this.currentDate)).setDate(1);\n    switch (this.currentView()) {\n      case 'Month':\n        this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        break;\n      case 'Year':\n        this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        break;\n      case 'Decade':\n        this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n    }\n  };\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n  CalendarBase.prototype.destroy = function () {\n    if (this.getModuleName() === 'calendar' && this.element) {\n      removeClass([this.element], [ROOT]);\n    } else {\n      if (this.calendarElement && this.element) {\n        removeClass([this.element], [ROOT]);\n      }\n    }\n    if (this.getModuleName() === 'calendar' && this.element) {\n      if (!isNullOrUndefined(this.headerTitleElement)) {\n        EventHandler.remove(this.headerTitleElement, 'click', this.navigateTitle);\n      }\n      if (this.todayElement) {\n        EventHandler.remove(this.todayElement, 'click', this.todayButtonClick);\n      }\n      this.previousIconHandler(true);\n      this.nextIconHandler(true);\n      this.keyboardModule.destroy();\n      this.element.removeAttribute('data-role');\n      if (!isNullOrUndefined(this.calendarEleCopy.getAttribute('tabindex'))) {\n        this.element.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.element.removeAttribute('tabindex');\n      }\n    }\n    if (this.element) {\n      this.element.innerHTML = '';\n    }\n    this.todayElement = null;\n    this.tableBodyElement = null;\n    this.renderDayCellArgs = null;\n    this.headerElement = null;\n    this.nextIcon = null;\n    this.table = null;\n    this.tableHeadElement = null;\n    this.previousIcon = null;\n    this.headerTitleElement = null;\n    this.footer = null;\n    this.contentElement = null;\n    _super.prototype.destroy.call(this);\n  };\n  CalendarBase.prototype.title = function (e) {\n    var currentView = this.getViewNumber(this.currentView());\n    this.effect = ZOOMIN;\n    this.switchView(++currentView, e);\n  };\n  CalendarBase.prototype.getViewNumber = function (stringVal) {\n    if (stringVal === 'Month') {\n      return 0;\n    } else if (stringVal === 'Year') {\n      return 1;\n    } else {\n      return 2;\n    }\n  };\n  CalendarBase.prototype.navigateTitle = function (e) {\n    e.preventDefault();\n    this.title(e);\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n  CalendarBase.prototype.previous = function () {\n    this.effect = '';\n    var currentView = this.getViewNumber(this.currentView());\n    switch (this.currentView()) {\n      case 'Month':\n        this.addMonths(this.currentDate, -1);\n        this.switchView(currentView);\n        break;\n      case 'Year':\n        this.addYears(this.currentDate, -1);\n        this.switchView(currentView);\n        break;\n      case 'Decade':\n        this.addYears(this.currentDate, -10);\n        this.switchView(currentView);\n        break;\n    }\n  };\n  CalendarBase.prototype.navigatePrevious = function (e) {\n    e.preventDefault();\n    if (this.calendarMode === 'Gregorian') {\n      this.previous();\n    } else {\n      this.islamicModule.islamicPrevious();\n    }\n    this.triggerNavigate(e);\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n  CalendarBase.prototype.next = function () {\n    this.effect = '';\n    var currentView = this.getViewNumber(this.currentView());\n    switch (this.currentView()) {\n      case 'Month':\n        this.addMonths(this.currentDate, 1);\n        this.switchView(currentView);\n        break;\n      case 'Year':\n        this.addYears(this.currentDate, 1);\n        this.switchView(currentView);\n        break;\n      case 'Decade':\n        this.addYears(this.currentDate, 10);\n        this.switchView(currentView);\n        break;\n    }\n  };\n  CalendarBase.prototype.navigateNext = function (eve) {\n    eve.preventDefault();\n    if (this.calendarMode === 'Gregorian') {\n      this.next();\n    } else {\n      this.islamicModule.islamicNext();\n    }\n    this.triggerNavigate(eve);\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n  /**\n   * This method is used to navigate to the month/year/decade view of the Calendar.\n   *\n   * @param {string} view - Specifies the view of the Calendar.\n   * @param {Date} date - Specifies the focused date in a view.\n   * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n   * @returns {void}\n   */\n  CalendarBase.prototype.navigateTo = function (view, date, isCustomDate) {\n    if (+date >= +this.min && +date <= +this.max) {\n      this.currentDate = date;\n    }\n    if (+date <= +this.min) {\n      this.currentDate = new Date(this.checkValue(this.min));\n    }\n    if (+date >= +this.max) {\n      this.currentDate = new Date(this.checkValue(this.max));\n    }\n    if (this.getViewNumber(this.depth) >= this.getViewNumber(view)) {\n      if (this.getViewNumber(this.depth) <= this.getViewNumber(this.start) || this.getViewNumber(this.depth) === this.getViewNumber(view)) {\n        view = this.depth;\n      }\n    }\n    this.switchView(this.getViewNumber(view), null, null, isCustomDate);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets the current view of the Calendar.\n   *\n   * @returns {string}\n   */\n  CalendarBase.prototype.currentView = function () {\n    if (this.contentElement.classList.contains(YEAR)) {\n      return 'Year';\n    } else if (this.contentElement.classList.contains(DECADE)) {\n      return 'Decade';\n    } else {\n      return 'Month';\n    }\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  CalendarBase.prototype.getDateVal = function (date, value) {\n    return !isNullOrUndefined(value) && date.getDate() === value.getDate() && date.getMonth() === value.getMonth() && date.getFullYear() === value.getFullYear();\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CalendarBase.prototype.getCultureObjects = function (ld, c) {\n    var gregorianFormat = '.dates.calendars.gregorian.days.format.' + this.dayHeaderFormat.toLowerCase();\n    var islamicFormat = '.dates.calendars.islamic.days.format.' + this.dayHeaderFormat.toLowerCase();\n    var mainVal = 'main.';\n    if (this.calendarMode === 'Gregorian') {\n      return getValue(mainVal + '' + this.locale + gregorianFormat, ld);\n    } else {\n      return getValue('main.' + '' + this.locale + islamicFormat, ld);\n    }\n  };\n  CalendarBase.prototype.getWeek = function (d) {\n    var currentDate = new Date(this.checkValue(d)).valueOf();\n    var date = new Date(d.getFullYear(), 0, 1).valueOf();\n    return Math.ceil((currentDate - date + dayMilliSeconds) / dayMilliSeconds / 7);\n  };\n  CalendarBase.prototype.setStartDate = function (date, time) {\n    var tzOffset = date.getTimezoneOffset();\n    var d = new Date(date.getTime() + time);\n    var tzOffsetDiff = d.getTimezoneOffset() - tzOffset;\n    date.setTime(d.getTime() + tzOffsetDiff * minutesMilliSeconds);\n  };\n  CalendarBase.prototype.addMonths = function (date, i) {\n    if (this.calendarMode === 'Gregorian') {\n      var day = date.getDate();\n      date.setDate(1);\n      date.setMonth(date.getMonth() + i);\n      date.setDate(Math.min(day, this.getMaxDays(date)));\n    } else {\n      var islamicDate = this.islamicModule.getIslamicDate(date);\n      this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month + i, 1);\n    }\n  };\n  CalendarBase.prototype.addYears = function (date, i) {\n    if (this.calendarMode === 'Gregorian') {\n      var day = date.getDate();\n      date.setDate(1);\n      date.setFullYear(date.getFullYear() + i);\n      date.setDate(Math.min(day, this.getMaxDays(date)));\n    } else {\n      var islamicDate = this.islamicModule.getIslamicDate(date);\n      this.currentDate = this.islamicModule.toGregorian(islamicDate.year + i, islamicDate.month, 1);\n    }\n  };\n  CalendarBase.prototype.getIdValue = function (e, element) {\n    var eve;\n    if (e) {\n      eve = e.currentTarget;\n    } else {\n      eve = element;\n    }\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    var dateFormatOptions = {\n      type: 'dateTime',\n      skeleton: 'full',\n      calendar: type\n    };\n    // eslint-disable-next-line radix\n    var dateString = this.globalize.formatDate(new Date(parseInt('' + eve.getAttribute('id'), 0)), dateFormatOptions);\n    var date = this.globalize.parseDate(dateString, dateFormatOptions);\n    var value = date.valueOf() - date.valueOf() % 1000;\n    return new Date(value);\n    //return this.globalize.parseDate(dateString, dateFormatOptions);\n  };\n\n  CalendarBase.prototype.adjustLongHeaderSize = function () {\n    removeClass([this.element], DAYHEADERLONG);\n    if (this.dayHeaderFormat === 'Wide') {\n      addClass([this.getModuleName() === 'calendar' ? this.element : this.calendarElement], DAYHEADERLONG);\n    }\n  };\n  CalendarBase.prototype.selectDate = function (e, date, node, multiSelection, values) {\n    var element = node || e.currentTarget;\n    this.isDateSelected = false;\n    if (this.currentView() === 'Decade') {\n      this.setDateDecade(this.currentDate, date.getFullYear());\n    } else if (this.currentView() === 'Year') {\n      this.setDateYear(this.currentDate, date);\n    } else {\n      if (multiSelection && !this.checkPresentDate(date, values)) {\n        var copyValues = this.copyValues(values);\n        if (!isNullOrUndefined(values) && copyValues.length > 0) {\n          copyValues.push(new Date(this.checkValue(date)));\n          this.setProperties({\n            values: copyValues\n          }, true);\n          this.setProperties({\n            value: values[values.length - 1]\n          }, true);\n        } else {\n          this.setProperties({\n            values: [new Date(this.checkValue(date))]\n          }, true);\n        }\n      } else {\n        this.setProperties({\n          value: new Date(this.checkValue(date))\n        }, true);\n      }\n      this.currentDate = new Date(this.checkValue(date));\n    }\n    var tableBodyElement = closest(element, '.' + ROOT);\n    if (isNullOrUndefined(tableBodyElement)) {\n      tableBodyElement = this.tableBodyElement;\n    }\n    if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + SELECTED))) {\n      removeClass([tableBodyElement.querySelector('.' + SELECTED)], SELECTED);\n    }\n    if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + FOCUSEDDATE))) {\n      removeClass([tableBodyElement.querySelector('.' + FOCUSEDDATE)], FOCUSEDDATE);\n    }\n    if (multiSelection) {\n      var copyValues = this.copyValues(values);\n      var collection = Array.prototype.slice.call(this.tableBodyElement.querySelectorAll('td'));\n      for (var index = 0; index < collection.length; index++) {\n        var tempElement = tableBodyElement.querySelectorAll('td' + '.' + FOCUSEDDATE)[0];\n        var selectedElement = tableBodyElement.querySelectorAll('td' + '.' + SELECTED)[0];\n        if (collection[index] === tempElement) {\n          removeClass([collection[index]], FOCUSEDDATE);\n        }\n        if (collection[index] === selectedElement && !this.checkPresentDate(new Date(parseInt(selectedElement.getAttribute('id').split('_')[0], 10)), values)) {\n          removeClass([collection[index]], SELECTED);\n        }\n      }\n      if (element.classList.contains(SELECTED)) {\n        removeClass([element], SELECTED);\n        for (var i = 0; i < copyValues.length; i++) {\n          var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n          var formatOptions = {\n            format: null,\n            type: 'date',\n            skeleton: 'short',\n            calendar: type\n          };\n          var localDateString = this.globalize.formatDate(date, formatOptions);\n          var tempDateString = this.globalize.formatDate(copyValues[i], formatOptions);\n          if (localDateString === tempDateString) {\n            var index = copyValues.indexOf(copyValues[i]);\n            copyValues.splice(index, 1);\n            addClass([element], FOCUSEDDATE);\n          }\n        }\n        this.setProperties({\n          values: copyValues\n        }, true);\n      } else {\n        addClass([element], SELECTED);\n      }\n    } else {\n      addClass([element], SELECTED);\n    }\n    this.isDateSelected = true;\n  };\n  CalendarBase.prototype.checkPresentDate = function (dates, values) {\n    var previousValue = false;\n    if (!isNullOrUndefined(values)) {\n      for (var checkPrevious = 0; checkPrevious < values.length; checkPrevious++) {\n        var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n        var localDateString = this.globalize.formatDate(dates, {\n          format: null,\n          type: 'date',\n          skeleton: 'short',\n          calendar: type\n        });\n        var tempDateString = this.globalize.formatDate(values[checkPrevious], {\n          format: null,\n          type: 'date',\n          skeleton: 'short',\n          calendar: type\n        });\n        if (localDateString === tempDateString) {\n          previousValue = true;\n        }\n      }\n    }\n    return previousValue;\n  };\n  CalendarBase.prototype.setAriaActiveDescendant = function () {\n    attributes(this.table, {\n      'aria-activedescendant': '' + this.setActiveDescendant()\n    });\n  };\n  CalendarBase.prototype.previousIconHandler = function (disabled) {\n    if (disabled) {\n      if (!isNullOrUndefined(this.previousIcon)) {\n        EventHandler.remove(this.previousIcon, 'click', this.navigatePreviousHandler);\n        addClass([this.previousIcon], '' + DISABLED);\n        addClass([this.previousIcon], '' + OVERLAY);\n        this.previousIcon.setAttribute('aria-disabled', 'true');\n      }\n    } else {\n      EventHandler.add(this.previousIcon, 'click', this.navigatePreviousHandler);\n      removeClass([this.previousIcon], '' + DISABLED);\n      removeClass([this.previousIcon], '' + OVERLAY);\n      this.previousIcon.setAttribute('aria-disabled', 'false');\n    }\n  };\n  CalendarBase.prototype.renderDayCellEvent = function (args) {\n    extend(this.renderDayCellArgs, {\n      name: 'renderDayCell'\n    });\n    this.trigger('renderDayCell', args);\n  };\n  CalendarBase.prototype.navigatedEvent = function (eve) {\n    extend(this.navigatedArgs, {\n      name: 'navigated',\n      event: eve\n    });\n    this.trigger('navigated', this.navigatedArgs);\n  };\n  CalendarBase.prototype.triggerNavigate = function (event) {\n    this.navigatedArgs = {\n      view: this.currentView(),\n      date: this.currentDate\n    };\n    this.navigatedEvent(event);\n  };\n  CalendarBase.prototype.nextIconHandler = function (disabled) {\n    if (disabled) {\n      if (!isNullOrUndefined(this.previousIcon)) {\n        EventHandler.remove(this.nextIcon, 'click', this.navigateNextHandler);\n        addClass([this.nextIcon], DISABLED);\n        addClass([this.nextIcon], OVERLAY);\n        this.nextIcon.setAttribute('aria-disabled', 'true');\n      }\n    } else {\n      EventHandler.add(this.nextIcon, 'click', this.navigateNextHandler);\n      removeClass([this.nextIcon], DISABLED);\n      removeClass([this.nextIcon], OVERLAY);\n      this.nextIcon.setAttribute('aria-disabled', 'false');\n    }\n  };\n  CalendarBase.prototype.compare = function (startDate, endDate, modifier) {\n    var start = endDate.getFullYear();\n    var end;\n    var result;\n    end = start;\n    result = 0;\n    if (modifier) {\n      start = start - start % modifier;\n      end = start - start % modifier + modifier - 1;\n    }\n    if (startDate.getFullYear() > end) {\n      result = 1;\n    } else if (startDate.getFullYear() < start) {\n      result = -1;\n    }\n    return result;\n  };\n  CalendarBase.prototype.isMinMaxRange = function (date) {\n    return +date >= +this.min && +date <= +this.max;\n  };\n  CalendarBase.prototype.isMonthYearRange = function (date) {\n    if (this.calendarMode === 'Gregorian') {\n      return date.getMonth() >= this.min.getMonth() && date.getFullYear() >= this.min.getFullYear() && date.getMonth() <= this.max.getMonth() && date.getFullYear() <= this.max.getFullYear();\n    } else {\n      var islamicDate = this.islamicModule.getIslamicDate(date);\n      return islamicDate.month >= this.islamicModule.getIslamicDate(new Date(1944, 1, 18)).month && islamicDate.year >= this.islamicModule.getIslamicDate(new Date(1944, 1, 18)).year && islamicDate.month <= this.islamicModule.getIslamicDate(new Date(2069, 1, 16)).month && islamicDate.year <= this.islamicModule.getIslamicDate(new Date(2069, 1, 16)).year;\n    }\n  };\n  CalendarBase.prototype.compareYear = function (start, end) {\n    return this.compare(start, end, 0);\n  };\n  CalendarBase.prototype.compareDecade = function (start, end) {\n    return this.compare(start, end, 10);\n  };\n  CalendarBase.prototype.shiftArray = function (array, i) {\n    return array.slice(i).concat(array.slice(0, i));\n  };\n  CalendarBase.prototype.addDay = function (date, i, e, max, min) {\n    var column = i;\n    var value = new Date(+date);\n    if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {\n      while (this.findNextTD(new Date(+date), column, max, min)) {\n        column += i;\n      }\n      var rangeValue = new Date(value.setDate(value.getDate() + column));\n      column = +rangeValue > +max || +rangeValue < +min ? column === i ? i - i : i : column;\n    }\n    date.setDate(date.getDate() + column);\n  };\n  CalendarBase.prototype.findNextTD = function (date, column, max, min) {\n    var value = new Date(date.setDate(date.getDate() + column));\n    var collection = [];\n    var isDisabled = false;\n    if ((!isNullOrUndefined(value) && value.getMonth()) === (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {\n      var tdEles = void 0;\n      if (this.calendarMode === 'Gregorian') {\n        tdEles = this.renderDays(value);\n      } else {\n        tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n      }\n      collection = tdEles.filter(function (element) {\n        return element.classList.contains(DISABLED);\n      });\n    } else {\n      collection = this.tableBodyElement.querySelectorAll('td.' + DISABLED);\n    }\n    if (+value <= +max && +value >= +min) {\n      if (collection.length) {\n        for (var i = 0; i < collection.length; i++) {\n          // eslint-disable-next-line radix\n          isDisabled = +value === +new Date(parseInt(collection[i].id, 0)) ? true : false;\n          if (isDisabled) {\n            break;\n          }\n        }\n      }\n    }\n    return isDisabled;\n  };\n  CalendarBase.prototype.getMaxDays = function (d) {\n    var date;\n    var tmpDate = new Date(this.checkValue(d));\n    date = 28;\n    var month = tmpDate.getMonth();\n    while (tmpDate.getMonth() === month) {\n      ++date;\n      tmpDate.setDate(date);\n    }\n    return date - 1;\n  };\n  CalendarBase.prototype.setDateDecade = function (date, year) {\n    date.setFullYear(year);\n    this.setProperties({\n      value: new Date(this.checkValue(date))\n    }, true);\n  };\n  CalendarBase.prototype.setDateYear = function (date, value) {\n    date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate());\n    if (value.getMonth() !== date.getMonth()) {\n      date.setDate(0);\n      this.currentDate = new Date(this.checkValue(value));\n    }\n    this.setProperties({\n      value: new Date(this.checkValue(date))\n    }, true);\n  };\n  CalendarBase.prototype.compareMonth = function (start, end) {\n    var result;\n    if (start.getFullYear() > end.getFullYear()) {\n      result = 1;\n    } else if (start.getFullYear() < end.getFullYear()) {\n      result = -1;\n    } else {\n      result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;\n    }\n    return result;\n  };\n  CalendarBase.prototype.checkValue = function (inValue) {\n    if (inValue instanceof Date) {\n      return inValue.toUTCString();\n    } else {\n      return '' + inValue;\n    }\n  };\n  CalendarBase.prototype.checkView = function () {\n    if (this.start !== 'Decade' && this.start !== 'Year') {\n      this.setProperties({\n        start: 'Month'\n      }, true);\n    }\n    if (this.depth !== 'Decade' && this.depth !== 'Year') {\n      this.setProperties({\n        depth: 'Month'\n      }, true);\n    }\n    if (this.getViewNumber(this.depth) > this.getViewNumber(this.start)) {\n      this.setProperties({\n        depth: 'Month'\n      }, true);\n    }\n  };\n  CalendarBase.prototype.getDate = function (date, timezone) {\n    if (timezone) {\n      date = new Date(date.toLocaleString('en-US', {\n        timeZone: timezone\n      }));\n    }\n    return date;\n  };\n  __decorate([Property(new Date(1900, 0, 1))], CalendarBase.prototype, \"min\", void 0);\n  __decorate([Property(true)], CalendarBase.prototype, \"enabled\", void 0);\n  __decorate([Property(null)], CalendarBase.prototype, \"cssClass\", void 0);\n  __decorate([Property(new Date(2099, 11, 31))], CalendarBase.prototype, \"max\", void 0);\n  __decorate([Property(null)], CalendarBase.prototype, \"firstDayOfWeek\", void 0);\n  __decorate([Property('Gregorian')], CalendarBase.prototype, \"calendarMode\", void 0);\n  __decorate([Property('Month')], CalendarBase.prototype, \"start\", void 0);\n  __decorate([Property('Month')], CalendarBase.prototype, \"depth\", void 0);\n  __decorate([Property(false)], CalendarBase.prototype, \"weekNumber\", void 0);\n  __decorate([Property('FirstDay')], CalendarBase.prototype, \"weekRule\", void 0);\n  __decorate([Property(true)], CalendarBase.prototype, \"showTodayButton\", void 0);\n  __decorate([Property('Short')], CalendarBase.prototype, \"dayHeaderFormat\", void 0);\n  __decorate([Property(false)], CalendarBase.prototype, \"enablePersistence\", void 0);\n  __decorate([Property(null)], CalendarBase.prototype, \"keyConfigs\", void 0);\n  __decorate([Property(null)], CalendarBase.prototype, \"serverTimezoneOffset\", void 0);\n  __decorate([Event()], CalendarBase.prototype, \"created\", void 0);\n  __decorate([Event()], CalendarBase.prototype, \"destroyed\", void 0);\n  __decorate([Event()], CalendarBase.prototype, \"navigated\", void 0);\n  __decorate([Event()], CalendarBase.prototype, \"renderDayCell\", void 0);\n  CalendarBase = __decorate([NotifyPropertyChanges], CalendarBase);\n  return CalendarBase;\n}(Component);\nexport { CalendarBase };\n/**\n * Represents the Calendar component that allows the user to select a date.\n * ```html\n * <div id=\"calendar\"/>\n * ```\n * ```typescript\n * <script>\n *   var calendarObj = new Calendar({ value: new Date() });\n *   calendarObj.appendTo(\"#calendar\");\n * </script>\n * ```\n */\nvar Calendar = /** @class */function (_super) {\n  __extends(Calendar, _super);\n  /**\n   * Initialized new instance of Calendar Class.\n   * Constructor for creating the widget\n   *\n   * @param {CalendarModel} options - Specifies the Calendar model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function Calendar(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n  Calendar.prototype.render = function () {\n    if (this.calendarMode === 'Islamic' && this.islamicModule === undefined) {\n      throwError('Requires the injectable Islamic modules to render Calendar in Islamic mode');\n    }\n    if (this.isMultiSelection && typeof this.values === 'object' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      var tempValues = [];\n      var copyValues = [];\n      for (var limit = 0; limit < this.values.length; limit++) {\n        if (tempValues.indexOf(+this.values[limit]) === -1) {\n          tempValues.push(+this.values[limit]);\n          copyValues.push(this.values[limit]);\n        }\n      }\n      this.setProperties({\n        values: copyValues\n      }, true);\n      for (var index = 0; index < this.values.length; index++) {\n        if (!this.checkDateValue(this.values[index])) {\n          if (typeof this.values[index] === 'string' && this.checkDateValue(new Date(this.checkValue(this.values[index])))) {\n            var copyDate = new Date(this.checkValue(this.values[index]));\n            this.values.splice(index, 1);\n            this.values.splice(index, 0, copyDate);\n          } else {\n            this.values.splice(index, 1);\n          }\n        }\n      }\n      this.setProperties({\n        value: this.values[this.values.length - 1]\n      }, true);\n      this.previousValues = this.values.length;\n    }\n    this.validateDate();\n    this.minMaxUpdate();\n    if (this.getModuleName() === 'calendar') {\n      this.setEnable(this.enabled);\n      this.setClass(this.cssClass);\n    }\n    _super.prototype.render.call(this);\n    if (this.getModuleName() === 'calendar') {\n      var form = closest(this.element, 'form');\n      if (form) {\n        EventHandler.add(form, 'reset', this.formResetHandler.bind(this));\n      }\n      this.setTimeZone(this.serverTimezoneOffset);\n    }\n    this.renderComplete();\n  };\n  Calendar.prototype.setEnable = function (enable) {\n    if (!enable) {\n      addClass([this.element], DISABLED);\n    } else {\n      removeClass([this.element], DISABLED);\n    }\n  };\n  Calendar.prototype.setClass = function (newCssClass, oldCssClass) {\n    if (!isNullOrUndefined(oldCssClass)) {\n      oldCssClass = oldCssClass.replace(/\\s+/g, ' ').trim();\n    }\n    if (!isNullOrUndefined(newCssClass)) {\n      newCssClass = newCssClass.replace(/\\s+/g, ' ').trim();\n    }\n    if (!isNullOrUndefined(oldCssClass) && oldCssClass !== '') {\n      removeClass([this.element], oldCssClass.split(' '));\n    }\n    if (!isNullOrUndefined(newCssClass)) {\n      addClass([this.element], newCssClass.split(' '));\n    }\n  };\n  Calendar.prototype.isDayLightSaving = function () {\n    var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n    var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n    return this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset);\n  };\n  Calendar.prototype.setTimeZone = function (offsetValue) {\n    if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n      var serverTimezoneDiff = offsetValue;\n      var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n      var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n      timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n      this.value = new Date(this.value.getTime() + timeZoneDiff * 60 * 60 * 1000);\n    }\n  };\n  Calendar.prototype.formResetHandler = function () {\n    this.setProperties({\n      value: null\n    }, true);\n  };\n  Calendar.prototype.validateDate = function () {\n    if (typeof this.value === 'string') {\n      this.setProperties({\n        value: this.checkDateValue(new Date(this.checkValue(this.value)))\n      }, true); // persist the value property.\n    }\n\n    _super.prototype.validateDate.call(this, this.value);\n    if (!isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max) {\n      this.currentDate = new Date(this.checkValue(this.value));\n    }\n    if (isNaN(+this.value)) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n  };\n  Calendar.prototype.minMaxUpdate = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max) {\n        this.setProperties({\n          value: this.min\n        }, true);\n        this.changedArgs = {\n          value: this.value\n        };\n      } else {\n        if (!isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max) {\n          this.setProperties({\n            value: this.max\n          }, true);\n          this.changedArgs = {\n            value: this.value\n          };\n        }\n      }\n    }\n    if (this.getModuleName() !== 'calendar' && !isNullOrUndefined(this.value)) {\n      if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max) {\n        _super.prototype.minMaxUpdate.call(this, this.min);\n      } else {\n        if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max) {\n          _super.prototype.minMaxUpdate.call(this, this.max);\n        }\n      }\n    } else {\n      _super.prototype.minMaxUpdate.call(this, this.value);\n    }\n  };\n  Calendar.prototype.generateTodayVal = function (value) {\n    var tempValue = new Date();\n    if (!isNullOrUndefined(this.timezone)) {\n      tempValue = _super.prototype.getDate.call(this, tempValue, this.timezone);\n    }\n    if (value && isNullOrUndefined(this.timezone)) {\n      tempValue.setHours(value.getHours());\n      tempValue.setMinutes(value.getMinutes());\n      tempValue.setSeconds(value.getSeconds());\n      tempValue.setMilliseconds(value.getMilliseconds());\n    } else {\n      tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0, 0);\n    }\n    return tempValue;\n  };\n  Calendar.prototype.todayButtonClick = function (e) {\n    if (this.showTodayButton) {\n      var tempValue = this.generateTodayVal(this.value);\n      this.setProperties({\n        value: tempValue\n      }, true);\n      this.isTodayClicked = true;\n      this.todayButtonEvent = e;\n      if (this.isMultiSelection) {\n        var copyValues = this.copyValues(this.values);\n        if (!_super.prototype.checkPresentDate.call(this, tempValue, this.values)) {\n          copyValues.push(tempValue);\n          this.setProperties({\n            values: copyValues\n          });\n        }\n      }\n      _super.prototype.todayButtonClick.call(this, e, new Date(+this.value));\n    }\n  };\n  Calendar.prototype.keyActionHandle = function (e) {\n    _super.prototype.keyActionHandle.call(this, e, this.value, this.isMultiSelection);\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n  Calendar.prototype.preRender = function () {\n    var _this = this;\n    this.changeHandler = function (e) {\n      _this.triggerChange(e);\n    };\n    this.checkView();\n    _super.prototype.preRender.call(this, this.value);\n  };\n  /**\n   * @returns {void}\n    */\n  Calendar.prototype.createContent = function () {\n    this.previousDate = this.value;\n    this.previousDateTime = this.value;\n    _super.prototype.createContent.call(this);\n  };\n  Calendar.prototype.minMaxDate = function (localDate) {\n    return _super.prototype.minMaxDate.call(this, localDate);\n  };\n  Calendar.prototype.renderMonths = function (e, value, isCustomDate) {\n    _super.prototype.renderMonths.call(this, e, this.value, isCustomDate);\n  };\n  Calendar.prototype.renderDays = function (currentDate, value, isMultiSelect, values, isCustomDate, e) {\n    var tempDays = _super.prototype.renderDays.call(this, currentDate, this.value, this.isMultiSelection, this.values, isCustomDate, e);\n    if (this.isMultiSelection) {\n      _super.prototype.validateValues.call(this, this.isMultiSelection, this.values);\n    }\n    return tempDays;\n  };\n  Calendar.prototype.renderYears = function (e) {\n    if (this.calendarMode === 'Gregorian') {\n      _super.prototype.renderYears.call(this, e, this.value);\n    } else {\n      this.islamicModule.islamicRenderYears(e, this.value);\n    }\n  };\n  Calendar.prototype.renderDecades = function (e) {\n    if (this.calendarMode === 'Gregorian') {\n      _super.prototype.renderDecades.call(this, e, this.value);\n    } else {\n      this.islamicModule.islamicRenderDecade(e, this.value);\n    }\n  };\n  Calendar.prototype.renderTemplate = function (elements, count, classNm, e) {\n    if (this.calendarMode === 'Gregorian') {\n      _super.prototype.renderTemplate.call(this, elements, count, classNm, e, this.value);\n    } else {\n      this.islamicModule.islamicRenderTemplate(elements, count, classNm, e, this.value);\n    }\n    this.changedArgs = {\n      value: this.value,\n      values: this.values\n    };\n    this.changeHandler();\n  };\n  Calendar.prototype.clickHandler = function (e) {\n    var eve = e.currentTarget;\n    this.isPopupClicked = true;\n    if (eve.classList.contains(OTHERMONTH)) {\n      if (this.isMultiSelection) {\n        var copyValues = this.copyValues(this.values);\n        if (copyValues.toString().indexOf(this.getIdValue(e, null).toString()) === -1) {\n          copyValues.push(this.getIdValue(e, null));\n          this.setProperties({\n            values: copyValues\n          }, true);\n          this.setProperties({\n            value: this.values[this.values.length - 1]\n          }, true);\n        } else {\n          this.previousDates = true;\n        }\n      } else {\n        this.setProperties({\n          value: this.getIdValue(e, null)\n        }, true);\n      }\n    }\n    var storeView = this.currentView();\n    _super.prototype.clickHandler.call(this, e, this.value);\n    if (this.isMultiSelection && this.currentDate !== this.value && !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0]) && storeView === 'Year') {\n      this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n    }\n  };\n  Calendar.prototype.switchView = function (view, e, isMultiSelection, isCustomDate) {\n    _super.prototype.switchView.call(this, view, e, this.isMultiSelection, isCustomDate);\n  };\n  /**\n   * To get component name\n   *\n   * @returns {string} Return the component name.\n   * @private\n   */\n  Calendar.prototype.getModuleName = function () {\n    _super.prototype.getModuleName.call(this);\n    return 'calendar';\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n  Calendar.prototype.getPersistData = function () {\n    _super.prototype.getPersistData.call(this);\n    var keyEntity = ['value', 'values'];\n    return this.addOnPersist(keyEntity);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {CalendarModel} newProp - Returns the dynamic property value of the component.\n   * @param {CalendarModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @private\n   */\n  Calendar.prototype.onPropertyChanged = function (newProp, oldProp) {\n    this.effect = '';\n    this.rangeValidation(this.min, this.max);\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'value':\n          if (this.isDateSelected) {\n            if (typeof newProp.value === 'string') {\n              this.setProperties({\n                value: new Date(this.checkValue(newProp.value))\n              }, true);\n            } else {\n              newProp.value = new Date(this.checkValue(newProp.value));\n            }\n            if (isNaN(+this.value)) {\n              this.setProperties({\n                value: oldProp.value\n              }, true);\n            }\n            this.update();\n          }\n          break;\n        case 'values':\n          if (this.isDateSelected) {\n            if (typeof newProp.values === 'string' || typeof newProp.values === 'number') {\n              this.setProperties({\n                values: null\n              }, true);\n            } else {\n              var copyValues = this.copyValues(this.values);\n              for (var index = 0; index < copyValues.length; index++) {\n                var tempDate = copyValues[index];\n                if (this.checkDateValue(tempDate) && !_super.prototype.checkPresentDate.call(this, tempDate, copyValues)) {\n                  copyValues.push(tempDate);\n                }\n              }\n              this.setProperties({\n                values: copyValues\n              }, true);\n              if (this.values.length > 0) {\n                this.setProperties({\n                  value: newProp.values[newProp.values.length - 1]\n                }, true);\n              }\n            }\n            this.validateValues(this.isMultiSelection, this.values);\n            this.update();\n          }\n          break;\n        case 'isMultiSelection':\n          if (this.isDateSelected) {\n            this.setProperties({\n              isMultiSelection: newProp.isMultiSelection\n            }, true);\n            this.update();\n          }\n          break;\n        case 'enabled':\n          this.setEnable(this.enabled);\n          break;\n        case 'cssClass':\n          if (this.getModuleName() === 'calendar') {\n            this.setClass(newProp.cssClass, oldProp.cssClass);\n          }\n          break;\n        default:\n          _super.prototype.onPropertyChanged.call(this, newProp, oldProp, this.isMultiSelection, this.values);\n      }\n    }\n    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n  };\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n  Calendar.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n    if (this.getModuleName() === 'calendar') {\n      var form = closest(this.element, 'form');\n      if (form) {\n        EventHandler.remove(form, 'reset', this.formResetHandler.bind(this));\n      }\n    }\n  };\n  /**\n   * This method is used to navigate to the month/year/decade view of the Calendar.\n   *\n   * @param {string} view - Specifies the view of the Calendar.\n   * @param {Date} date - Specifies the focused date in a view.\n   * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n   * @returns {void}\n    */\n  Calendar.prototype.navigateTo = function (view, date, isCustomDate) {\n    this.minMaxUpdate();\n    _super.prototype.navigateTo.call(this, view, date, isCustomDate);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets the current view of the Calendar.\n   *\n   * @returns {string}\n    */\n  Calendar.prototype.currentView = function () {\n    return _super.prototype.currentView.call(this);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * This method is used to add the single or multiple dates to the values property of the Calendar.\n   *\n   * @param {Date | Date[]} dates - Specifies the date or dates to be added to the values property of the Calendar.\n   * @returns {void}\n    */\n  Calendar.prototype.addDate = function (dates) {\n    if (typeof dates !== 'string' && typeof dates !== 'number') {\n      var copyValues = this.copyValues(this.values);\n      if (typeof dates === 'object' && dates.length > 0) {\n        var tempDates = dates;\n        for (var i = 0; i < tempDates.length; i++) {\n          if (this.checkDateValue(tempDates[i]) && !_super.prototype.checkPresentDate.call(this, tempDates[i], copyValues)) {\n            if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n              copyValues.push(tempDates[i]);\n            } else {\n              copyValues = [new Date(+tempDates[i])];\n            }\n          }\n        }\n      } else {\n        if (this.checkDateValue(dates) && !_super.prototype.checkPresentDate.call(this, dates, copyValues)) {\n          if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n            copyValues.push(dates);\n          } else {\n            copyValues = [new Date(+dates)];\n          }\n        }\n      }\n      this.setProperties({\n        values: copyValues\n      }, true);\n      if (this.isMultiSelection) {\n        this.setProperties({\n          value: this.values[this.values.length - 1]\n        }, true);\n      }\n      this.validateValues(this.isMultiSelection, copyValues);\n      this.update();\n      this.changedArgs = {\n        value: this.value,\n        values: this.values\n      };\n      this.changeHandler();\n    }\n  };\n  /**\n   * This method is used to remove the single or multiple dates from the values property of the Calendar.\n   *\n   * @param {Date | Date[]} dates - Specifies the date or dates which need to be removed from the values property of the Calendar.\n   * @returns {void}\n    */\n  Calendar.prototype.removeDate = function (dates) {\n    if (typeof dates !== 'string' && typeof dates !== 'number' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      var copyValues = this.copyValues(this.values);\n      if (typeof dates === 'object' && dates.length > 0) {\n        var tempDates = dates;\n        for (var index = 0; index < tempDates.length; index++) {\n          for (var i = 0; i < copyValues.length; i++) {\n            if (+copyValues[i] === +tempDates[index]) {\n              copyValues.splice(i, 1);\n            }\n          }\n        }\n      } else {\n        for (var i = 0; i < copyValues.length; i++) {\n          if (+copyValues[i] === +dates) {\n            copyValues.splice(i, 1);\n          }\n        }\n      }\n      this.setProperties({\n        values: copyValues\n      }, false);\n      this.update();\n      if (this.isMultiSelection) {\n        this.setProperties({\n          value: this.values[this.values.length - 1]\n        }, true);\n      }\n      this.changedArgs = {\n        value: this.value,\n        values: this.values\n      };\n      this.changeHandler();\n    }\n  };\n  /**\n   * To set custom today date in calendar\n   *\n   * @param {Date} date - Specifies date value to be set.\n   * @private\n   * @returns {void}\n   */\n  Calendar.prototype.setTodayDate = function (date) {\n    var todayDate = new Date(+date);\n    this.setProperties({\n      value: todayDate\n    }, true);\n    _super.prototype.todayButtonClick.call(this, null, todayDate, true);\n  };\n  Calendar.prototype.update = function () {\n    this.validateDate();\n    this.minMaxUpdate();\n    _super.prototype.setValueUpdate.call(this);\n  };\n  Calendar.prototype.selectDate = function (e, date, element) {\n    _super.prototype.selectDate.call(this, e, date, element, this.isMultiSelection, this.values);\n    if (this.isMultiSelection && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      this.setProperties({\n        value: this.values[this.values.length - 1]\n      }, true);\n    }\n    this.changedArgs = {\n      value: this.value,\n      values: this.values\n    };\n    this.changeHandler(e);\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Calendar.prototype.changeEvent = function (e) {\n    if ((this.value && this.value.valueOf()) !== (this.previousDate && +this.previousDate.valueOf()) || this.isMultiSelection) {\n      if (this.isAngular && this.preventChange) {\n        this.preventChange = false;\n      } else {\n        this.trigger('change', this.changedArgs);\n      }\n      this.previousDate = new Date(+this.value);\n    }\n  };\n  Calendar.prototype.triggerChange = function (e) {\n    if (!isNullOrUndefined(this.todayButtonEvent) && this.isTodayClicked) {\n      e = this.todayButtonEvent;\n      this.isTodayClicked = false;\n    }\n    this.changedArgs.event = e || null;\n    this.changedArgs.isInteracted = !isNullOrUndefined(e);\n    if (!isNullOrUndefined(this.value)) {\n      this.setProperties({\n        value: this.value\n      }, true);\n    }\n    if (!this.isMultiSelection && +this.value !== Number.NaN && (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.previousDate) || this.previousDate == null && !isNaN(+this.value))) {\n      this.changeEvent(e);\n    } else if (!isNullOrUndefined(this.values) && this.previousValues !== this.values.length) {\n      this.changeEvent(e);\n      this.previousValues = this.values.length;\n    }\n  };\n  __decorate([Property(null)], Calendar.prototype, \"value\", void 0);\n  __decorate([Property(null)], Calendar.prototype, \"values\", void 0);\n  __decorate([Property(false)], Calendar.prototype, \"isMultiSelection\", void 0);\n  __decorate([Event()], Calendar.prototype, \"change\", void 0);\n  Calendar = __decorate([NotifyPropertyChanges], Calendar);\n  return Calendar;\n}(CalendarBase);\nexport { Calendar };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","EventHandler","Internationalization","KeyboardEvents","L10n","NotifyPropertyChanges","cldrData","getDefaultDateObject","rippleEffect","removeClass","detach","closest","addClass","attributes","getValue","getUniqueID","extend","Browser","Property","Event","isNullOrUndefined","throwError","OTHERMONTH","OTHERDECADE","ROOT","DEVICE","HEADER","RTL","CONTENT","YEAR","MONTH","DECADE","ICON","PREVICON","NEXTICON","PREVSPAN","NEXTSPAN","ICONCONTAINER","DISABLED","OVERLAY","WEEKEND","WEEKNUMBER","SELECTED","FOCUSEDDATE","OTHERMONTHROW","TODAY","TITLE","LINK","CELL","WEEKHEADER","ZOOMIN","FOOTER","BTN","FLAT","CSS","PRIMARY","DAYHEADERLONG","dayMilliSeconds","minutesMilliSeconds","CalendarBase","_super","options","element","_this","call","effect","isPopupClicked","isDateSelected","isTodayClicked","preventChange","isAngular","previousDates","render","rangeValidation","min","max","calendarEleCopy","cloneNode","calendarMode","setSeconds","Date","globalize","locale","firstDayOfWeek","setProperties","getFirstDayOfWeek","todayDisabled","todayDate","setHours","getModuleName","classList","add","enableRtl","isDevice","tabIndex","hasAttribute","getAttribute","setAttribute","calendarElement","createElement","disabled","enabled","createHeader","createContent","wireEvents","getDefaultKeyConfig","defaultKeyConfigs","controlUp","controlDown","moveDown","moveUp","moveLeft","moveRight","select","home","end","pageUp","pageDown","shiftPageUp","shiftPageDown","controlHome","controlEnd","altUpArrow","spacebar","altRightArrow","altLeftArrow","validateDate","value","checkDateValue","checkValue","currentDate","setOverlayIndex","popupWrapper","popupElement","modal","index","parseInt","style","zIndex","toString","minMaxUpdate","ariaPrevAttrs","ariaNextAttrs","ariaTitleAttrs","headerElement","className","iconContainer","previousIcon","attrs","type","duration","selector","isCenterRipple","nextIcon","headerTitleElement","appendChild","adjustLongHeaderSize","contentElement","table","id","createContentHeader","createContentBody","showTodayButton","createContentFooter","getCultureValues","culShortNames","cldrObj","dayFormat","dayHeaderFormat","toLowerCase","getCultureObjects","_i","_a","keys","obj","push","toCapitalize","text","toUpperCase","slice","querySelectorAll","daysCount","html","tableHeadElement","weekNumber","shortNames","shiftArray","days","innerHTML","start","renderYears","renderDecades","renderMonths","updateFooter","todayElement","textContent","l10","getConstant","minimum","maximum","l10nLocale","today","role","footer","contains","todayButtonClick","ref","keyConfig","moduleName","navigateTitle","keyConfigs","keyboardModule","eventName","keyAction","keyActionHandle","bind","dateWireEvents","serverModuleName","e","isCustomDate","currentView","depth","getViewNumber","navigateTo","resetCalendar","tableBodyElement","renderDayCellArgs","multiSelection","focusedDate","querySelector","selectedDate","split","view","depthValue","levelRestrict","action","keyboardNavigate","preventDefault","selectDate","contentClick","title","firstDay","lastDay","addMonths","addYears","getFullYear","focus","number","date","isMonthYearRange","addDay","isMinMaxRange","preRender","navigatePreviousHandler","navigatePrevious","navigateNextHandler","navigateNext","navigateHandler","triggerNavigate","minMaxDate","localDate","minDate","maxDate","numCells","tdEles","renderDays","islamicModule","islamicRenderDays","renderTemplate","islamicRenderTemplate","values","isTodayDate","cellsCount","getDate","timezone","currentMonth","getMonth","titleUpdate","getHours","getMinutes","getSeconds","getMilliseconds","getDay","setStartDate","day","weekEle","weekAnchor","numberOfDays","weekRule","finalDate","getWeek","dateFormatOptions","skeleton","parseDate","formatDate","tdEle","dayCell","dayLink","format","isDisabled","isOutOfRange","argument","renderDayCellEvent","argsDate","localDateString","tempDateString","splice","otherMnthBool","disabledCls","clickHandler","currentTarget","tempValue","formatOptions","calendar","getDateVal","innerText","copyValues","type_1","formatOptions_1","localDateString_1","tempDateString_1","indexOf","updateFocus","otherMonth","tableElement","removeTableHeadElement","valueUtil","curDate","mon","yr","curYrs","minYr","minMonth","maxYr","maxMonth","setMonth","setDate","month","localMonth","yearCell","localYr","startYr","setFullYear","endYr","startFullYr","endFullYr","startHdrYr","endHdrYr","startYear","rowIterator","year","valueOf","collection","lastDate","timeOffset","Math","abs","getTimezoneOffset","findLastDay","isNaN","elements","count","classNm","trEle","weekNumCell","numberCell","otherMonthCell","row","children","iconHandler","islamicIconHandler","setAriaActiveDescendant","clickEventEmitter","eve","getIdValue","islamicPreviousHeader","islamicDate","getIslamicDate","toGregorian","switchView","requiredModules","modules","args","member","getPersistData","keyEntity","addOnPersist","onPropertyChanged","newProp","oldProp","prop","remove","validateValues","checkView","setLocale","undefined","skipIndex","tempValueString","minFormatOption","minStringValue","minString","maxFormatOption","maxStringValue","maxString","setValueUpdate","dayFormatOptions","monthFormatOptions","setActiveDescendant","focusedEle","selectedEle","previousIconHandler","compareMonth","nextIconHandler","compareYear","compareDecade","destroy","removeAttribute","stringVal","previous","islamicPrevious","next","islamicNext","ld","gregorianFormat","islamicFormat","mainVal","ceil","time","tzOffset","getTime","tzOffsetDiff","setTime","getMaxDays","dateString","node","setDateDecade","setDateYear","checkPresentDate","tempElement","selectedElement","dates","previousValue","checkPrevious","name","trigger","navigatedEvent","navigatedArgs","event","compare","startDate","endDate","modifier","result","array","concat","column","findNextTD","rangeValue","filter","tmpDate","inValue","toUTCString","toLocaleString","timeZone","Calendar","isMultiSelection","tempValues","limit","copyDate","previousValues","setEnable","setClass","cssClass","form","formResetHandler","setTimeZone","serverTimezoneOffset","renderComplete","enable","newCssClass","oldCssClass","replace","trim","isDayLightSaving","secondOffset","firstOffset","offsetValue","serverTimezoneDiff","clientTimeZoneDiff","timeZoneDiff","changedArgs","generateTodayVal","setMinutes","setMilliseconds","todayButtonEvent","changeHandler","triggerChange","previousDate","previousDateTime","isMultiSelect","tempDays","islamicRenderYears","islamicRenderDecade","storeView","update","tempDate","addDate","tempDates","removeDate","setTodayDate","changeEvent","isInteracted","Number","NaN"],"sources":["C:/Users/Pedro Uema/Desktop/thaiweb/front-end/node_modules/@syncfusion/ej2-calendars/src/calendar/calendar.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Internationalization } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, L10n } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { cldrData, getDefaultDateObject, rippleEffect } from '@syncfusion/ej2-base';\nimport { removeClass, detach, closest, addClass, attributes } from '@syncfusion/ej2-base';\nimport { getValue, getUniqueID, extend, Browser } from '@syncfusion/ej2-base';\nimport { Property, Event, isNullOrUndefined, throwError } from '@syncfusion/ej2-base';\n//class constant defination.\nvar OTHERMONTH = 'e-other-month';\nvar OTHERDECADE = 'e-other-year';\nvar ROOT = 'e-calendar';\nvar DEVICE = 'e-device';\nvar HEADER = 'e-header';\nvar RTL = 'e-rtl';\nvar CONTENT = 'e-content';\nvar YEAR = 'e-year';\nvar MONTH = 'e-month';\nvar DECADE = 'e-decade';\nvar ICON = 'e-icons';\nvar PREVICON = 'e-prev';\nvar NEXTICON = 'e-next';\nvar PREVSPAN = 'e-date-icon-prev';\nvar NEXTSPAN = 'e-date-icon-next ';\nvar ICONCONTAINER = 'e-icon-container';\nvar DISABLED = 'e-disabled';\nvar OVERLAY = 'e-overlay';\nvar WEEKEND = 'e-weekend';\nvar WEEKNUMBER = 'e-week-number';\nvar SELECTED = 'e-selected';\nvar FOCUSEDDATE = 'e-focused-date';\nvar OTHERMONTHROW = 'e-month-hide';\nvar TODAY = 'e-today';\nvar TITLE = 'e-title';\nvar LINK = 'e-day';\nvar CELL = 'e-cell';\nvar WEEKHEADER = 'e-week-header';\nvar ZOOMIN = 'e-zoomin';\nvar FOOTER = 'e-footer-container';\nvar BTN = 'e-btn';\nvar FLAT = 'e-flat';\nvar CSS = 'e-css';\nvar PRIMARY = 'e-primary';\nvar DAYHEADERLONG = 'e-calendar-day-header-lg';\nvar dayMilliSeconds = 86400000;\nvar minutesMilliSeconds = 60000;\n/**\n *\n * @private\n */\nvar CalendarBase = /** @class */ (function (_super) {\n    __extends(CalendarBase, _super);\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     *\n     * @param {CalendarBaseModel} options - Specifies the CalendarBase model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function CalendarBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.effect = '';\n        _this.isPopupClicked = false;\n        _this.isDateSelected = true;\n        _this.isTodayClicked = false;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        _this.previousDates = false;\n        return _this;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    CalendarBase.prototype.render = function () {\n        this.rangeValidation(this.min, this.max);\n        this.calendarEleCopy = this.element.cloneNode(true);\n        if (this.calendarMode === 'Islamic') {\n            if (+(this.min.setSeconds(0)) === +new Date(1900, 0, 1, 0, 0, 0)) {\n                this.min = new Date(1944, 2, 18);\n            }\n            if (+this.max === +new Date(2099, 11, 31)) {\n                this.max = new Date(2069, 10, 16);\n            }\n        }\n        this.globalize = new Internationalization(this.locale);\n        if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: this.globalize.getFirstDayOfWeek() }, true);\n        }\n        this.todayDisabled = false;\n        this.todayDate = new Date(new Date().setHours(0, 0, 0, 0));\n        if (this.getModuleName() === 'calendar') {\n            this.element.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.element.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.element.classList.add(DEVICE);\n            }\n            attributes(this.element, {\n                'data-role': 'calendar'\n            });\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.calendarElement = this.createElement('div');\n            this.calendarElement.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.calendarElement.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.calendarElement.classList.add(DEVICE);\n            }\n            attributes(this.calendarElement, {\n                'data-role': 'calendar'\n            });\n        }\n        if (!isNullOrUndefined(closest(this.element, \"fieldset\")) && closest(this.element, \"fieldset\").disabled) {\n            this.enabled = false;\n        }\n        this.createHeader();\n        this.createContent();\n        this.wireEvents();\n    };\n    CalendarBase.prototype.rangeValidation = function (min, max) {\n        if (isNullOrUndefined(min)) {\n            this.setProperties({ min: new Date(1900, 0, 1) }, true);\n        }\n        if (isNullOrUndefined(max)) {\n            this.setProperties({ max: new Date(2099, 11, 31) }, true);\n        }\n    };\n    CalendarBase.prototype.getDefaultKeyConfig = function () {\n        this.defaultKeyConfigs = {\n            controlUp: 'ctrl+38',\n            controlDown: 'ctrl+40',\n            moveDown: 'downarrow',\n            moveUp: 'uparrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            select: 'enter',\n            home: 'home',\n            end: 'end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            shiftPageUp: 'shift+pageup',\n            shiftPageDown: 'shift+pagedown',\n            controlHome: 'ctrl+home',\n            controlEnd: 'ctrl+end',\n            altUpArrow: 'alt+uparrow',\n            spacebar: 'space',\n            altRightArrow: 'alt+rightarrow',\n            altLeftArrow: 'alt+leftarrow'\n        };\n        return this.defaultKeyConfigs;\n    };\n    CalendarBase.prototype.validateDate = function (value) {\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(this.max))) }, true);\n        this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0));\n        if (!isNullOrUndefined(value) && this.min <= this.max && value >= this.min && value <= this.max) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n    };\n    CalendarBase.prototype.setOverlayIndex = function (popupWrapper, popupElement, modal, isDevice) {\n        if (isDevice && !isNullOrUndefined(popupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n            var index = parseInt(popupElement.style.zIndex, 10) ? parseInt(popupElement.style.zIndex, 10) : 1000;\n            modal.style.zIndex = (index - 1).toString();\n            popupWrapper.style.zIndex = index.toString();\n        }\n    };\n    CalendarBase.prototype.minMaxUpdate = function (value) {\n        if (!(+this.min <= +this.max)) {\n            this.setProperties({ min: this.min }, true);\n            addClass([this.element], OVERLAY);\n        }\n        else {\n            removeClass([this.element], OVERLAY);\n        }\n        this.min = isNullOrUndefined(this.min) || !(+this.min) ? this.min = new Date(1900, 0, 1) : this.min;\n        this.max = isNullOrUndefined(this.max) || !(+this.max) ? this.max = new Date(2099, 11, 31) : this.max;\n        if (+this.min <= +this.max && value && +value <= +this.max && +value >= +this.min) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        else {\n            if (+this.min <= +this.max && !value && +this.currentDate > +this.max) {\n                this.currentDate = new Date(this.checkValue(this.max));\n            }\n            else {\n                if (+this.currentDate < +this.min) {\n                    this.currentDate = new Date(this.checkValue(this.min));\n                }\n            }\n        }\n    };\n    CalendarBase.prototype.createHeader = function () {\n        var ariaPrevAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'previous month'\n        };\n        var ariaNextAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'next month'\n        };\n        var ariaTitleAttrs = {\n            'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'title'\n        };\n        this.headerElement = this.createElement('div', { className: HEADER });\n        var iconContainer = this.createElement('div', { className: ICONCONTAINER });\n        this.previousIcon = this.createElement('button', { className: '' + PREVICON, attrs: { type: 'button' } });\n        rippleEffect(this.previousIcon, {\n            duration: 400,\n            selector: '.e-prev',\n            isCenterRipple: true\n        });\n        attributes(this.previousIcon, ariaPrevAttrs);\n        this.nextIcon = this.createElement('button', { className: '' + NEXTICON, attrs: { type: 'button' } });\n        rippleEffect(this.nextIcon, {\n            selector: '.e-next',\n            duration: 400,\n            isCenterRipple: true\n        });\n        if (this.getModuleName() === 'daterangepicker') {\n            attributes(this.previousIcon, { tabIndex: '-1' });\n            attributes(this.nextIcon, { tabIndex: '-1' });\n        }\n        attributes(this.nextIcon, ariaNextAttrs);\n        this.headerTitleElement = this.createElement('div', { className: '' + LINK + ' ' + TITLE });\n        attributes(this.headerTitleElement, ariaTitleAttrs);\n        this.headerElement.appendChild(this.headerTitleElement);\n        this.previousIcon.appendChild(this.createElement('span', { className: '' + PREVSPAN + ' ' + ICON }));\n        this.nextIcon.appendChild(this.createElement('span', { className: '' + NEXTSPAN + ' ' + ICON }));\n        iconContainer.appendChild(this.previousIcon);\n        iconContainer.appendChild(this.nextIcon);\n        this.headerElement.appendChild(iconContainer);\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.headerElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.headerElement);\n        }\n        this.adjustLongHeaderSize();\n    };\n    CalendarBase.prototype.createContent = function () {\n        this.contentElement = this.createElement('div', { className: CONTENT });\n        this.table = this.createElement('table', { attrs: { tabIndex: '0', 'role': 'grid', 'aria-activedescendant': '', 'aria-labelledby': this.element.id } });\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.contentElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.contentElement);\n        }\n        this.contentElement.appendChild(this.table);\n        this.createContentHeader();\n        this.createContentBody();\n        if (this.showTodayButton) {\n            this.createContentFooter();\n        }\n    };\n    CalendarBase.prototype.getCultureValues = function () {\n        var culShortNames = [];\n        var cldrObj;\n        var dayFormat = 'days.stand-alone.' + this.dayHeaderFormat.toLowerCase();\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrObj = (getValue(dayFormat, getDefaultDateObject()));\n        }\n        else {\n            cldrObj = (this.getCultureObjects(cldrData, '' + this.locale));\n        }\n        if (!isNullOrUndefined(cldrObj)) {\n            for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {\n                var obj = _a[_i];\n                culShortNames.push(getValue(obj, cldrObj));\n            }\n        }\n        return culShortNames;\n    };\n    CalendarBase.prototype.toCapitalize = function (text) {\n        return !isNullOrUndefined(text) && text.length ? text[0].toUpperCase() + text.slice(1) : text;\n    };\n    CalendarBase.prototype.createContentHeader = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.element.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        var daysCount = 6;\n        var html = '';\n        if (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: 0 }, true);\n        }\n        this.tableHeadElement = this.createElement('thead', { className: WEEKHEADER });\n        if (this.weekNumber) {\n            html += '<th class=\"e-week-number\"></th>';\n            if (this.getModuleName() === 'calendar') {\n                addClass([this.element], '' + WEEKNUMBER);\n            }\n            else {\n                addClass([this.calendarElement], '' + WEEKNUMBER);\n            }\n        }\n        // eslint-disable-next-line max-len\n        var shortNames = this.getCultureValues().length > 0 && this.getCultureValues() ? this.shiftArray(((this.getCultureValues().length > 0 && this.getCultureValues())), this.firstDayOfWeek) : null;\n        if (!isNullOrUndefined(shortNames)) {\n            for (var days = 0; days <= daysCount; days++) {\n                html += '<th  class=\"\">' + this.toCapitalize(shortNames[days]) + '</th>';\n            }\n        }\n        html = '<tr>' + html + '</tr>';\n        this.tableHeadElement.innerHTML = html;\n        this.table.appendChild(this.tableHeadElement);\n    };\n    CalendarBase.prototype.createContentBody = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.element.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        switch (this.start) {\n            case 'Year':\n                this.renderYears();\n                break;\n            case 'Decade':\n                this.renderDecades();\n                break;\n            default:\n                this.renderMonths();\n        }\n    };\n    CalendarBase.prototype.updateFooter = function () {\n        this.todayElement.textContent = this.l10.getConstant('today');\n        this.todayElement.setAttribute('aria-label', this.l10.getConstant('today'));\n    };\n    CalendarBase.prototype.createContentFooter = function () {\n        if (this.showTodayButton) {\n            var minimum = new Date(+this.min);\n            var maximum = new Date(+this.max);\n            var l10nLocale = { today: 'Today' };\n            this.globalize = new Internationalization(this.locale);\n            this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n            this.todayElement = this.createElement('button', { attrs: { role: 'button' } });\n            rippleEffect(this.todayElement);\n            this.updateFooter();\n            addClass([this.todayElement], [BTN, TODAY, FLAT, PRIMARY, CSS]);\n            if ((!(+new Date(minimum.setHours(0, 0, 0, 0)) <= +this.todayDate &&\n                +this.todayDate <= +new Date(maximum.setHours(0, 0, 0, 0)))) || (this.todayDisabled)) {\n                addClass([this.todayElement], DISABLED);\n            }\n            this.footer = this.createElement('div', { className: FOOTER });\n            this.footer.appendChild(this.todayElement);\n            if (this.getModuleName() === 'calendar') {\n                this.element.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datetimepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (!this.todayElement.classList.contains(DISABLED)) {\n                EventHandler.add(this.todayElement, 'click', this.todayButtonClick, this);\n            }\n        }\n    };\n    CalendarBase.prototype.wireEvents = function (id, ref, keyConfig, moduleName) {\n        EventHandler.add(this.headerTitleElement, 'click', this.navigateTitle, this);\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        if (this.getModuleName() === 'calendar') {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        else {\n            this.keyboardModule = new KeyboardEvents(this.calendarElement, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n    };\n    CalendarBase.prototype.dateWireEvents = function (id, ref, keyConfig, moduleName) {\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, keyConfig);\n        this.serverModuleName = moduleName;\n    };\n    CalendarBase.prototype.todayButtonClick = function (e, value, isCustomDate) {\n        if (this.showTodayButton) {\n            if (this.currentView() === this.depth) {\n                this.effect = '';\n            }\n            else {\n                this.effect = 'e-zoomin';\n            }\n            if (this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                this.navigateTo(this.depth, new Date(this.checkValue(value)), isCustomDate);\n            }\n            else {\n                this.navigateTo('Month', new Date(this.checkValue(value)), isCustomDate);\n            }\n        }\n    };\n    CalendarBase.prototype.resetCalendar = function () {\n        this.calendarElement && detach(this.calendarElement);\n        this.tableBodyElement && detach(this.tableBodyElement);\n        this.table && detach(this.table);\n        this.tableHeadElement && detach(this.tableHeadElement);\n        this.nextIcon && detach(this.nextIcon);\n        this.previousIcon && detach(this.previousIcon);\n        this.footer && detach(this.footer);\n        this.todayElement = null;\n        this.renderDayCellArgs = null;\n        this.calendarElement = this.tableBodyElement = this.footer = this.tableHeadElement = this.nextIcon = this.previousIcon = this.table = null;\n    };\n    CalendarBase.prototype.keyActionHandle = function (e, value, multiSelection) {\n        var focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        var selectedDate;\n        if (multiSelection) {\n            if (!isNullOrUndefined(focusedDate) && +value === parseInt(focusedDate.getAttribute('id').split('_')[0], 10)) {\n                selectedDate = focusedDate;\n            }\n            else {\n                selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n            }\n        }\n        else {\n            selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        }\n        var view = this.getViewNumber(this.currentView());\n        var depthValue = this.getViewNumber(this.depth);\n        var levelRestrict = (view === depthValue && this.getViewNumber(this.start) >= depthValue);\n        this.effect = '';\n        switch (e.action) {\n            case 'moveLeft':\n                this.keyboardNavigate(-1, view, e, this.max, this.min);\n                e.preventDefault();\n                break;\n            case 'moveRight':\n                this.keyboardNavigate(1, view, e, this.max, this.min);\n                e.preventDefault();\n                break;\n            case 'moveUp':\n                if (view === 0) {\n                    this.keyboardNavigate(-7, view, e, this.max, this.min); // move the current date to the previous seven days.\n                }\n                else {\n                    this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n                }\n                e.preventDefault();\n                break;\n            case 'moveDown':\n                if (view === 0) {\n                    this.keyboardNavigate(7, view, e, this.max, this.min);\n                }\n                else {\n                    this.keyboardNavigate(4, view, e, this.max, this.min);\n                }\n                e.preventDefault();\n                break;\n            case 'select':\n                if (e.target === this.todayElement) {\n                    this.todayButtonClick(e, value);\n                }\n                else {\n                    var element = !isNullOrUndefined(focusedDate) ? focusedDate : selectedDate;\n                    if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n                        if (levelRestrict) {\n                            // eslint-disable-next-line radix\n                            var d = new Date(parseInt('' + (element).id, 0));\n                            this.selectDate(e, d, (element));\n                        }\n                        else {\n                            this.contentClick(null, --view, (element), value);\n                        }\n                    }\n                }\n                break;\n            case 'controlUp':\n                this.title();\n                e.preventDefault();\n                break;\n            case 'controlDown':\n                if (!isNullOrUndefined(focusedDate) && !levelRestrict || !isNullOrUndefined(selectedDate) && !levelRestrict) {\n                    this.contentClick(null, --view, (focusedDate || selectedDate), value);\n                }\n                e.preventDefault();\n                break;\n            case 'home':\n                this.currentDate = this.firstDay(this.currentDate);\n                detach(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                e.preventDefault();\n                break;\n            case 'end':\n                this.currentDate = this.lastDay(this.currentDate, view);\n                detach(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                e.preventDefault();\n                break;\n            case 'pageUp':\n                this.addMonths(this.currentDate, -1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'pageDown':\n                this.addMonths(this.currentDate, 1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'shiftPageUp':\n                this.addYears(this.currentDate, -1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'shiftPageDown':\n                this.addYears(this.currentDate, 1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'controlHome':\n                this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 0, 1));\n                e.preventDefault();\n                break;\n            case 'controlEnd':\n                this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 11, 31));\n                e.preventDefault();\n                break;\n        }\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.keyboardNavigate = function (number, currentView, e, max, min) {\n        var date = new Date(this.checkValue(this.currentDate));\n        switch (currentView) {\n            case 2:\n                this.addYears(this.currentDate, number);\n                if (this.isMonthYearRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderDecades(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n            case 1:\n                this.addMonths(this.currentDate, number);\n                if (this.calendarMode === 'Gregorian') {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                else {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                break;\n            case 0:\n                this.addDay(this.currentDate, number, e, max, min);\n                if (this.isMinMaxRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n        }\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @param {Date} value - Specifies value of date.\n     * @returns {void}\n     * @private\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.preRender = function (value) {\n        var _this = this;\n        this.navigatePreviousHandler = this.navigatePrevious.bind(this);\n        this.navigateNextHandler = this.navigateNext.bind(this);\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.navigateHandler = function (e) {\n            _this.triggerNavigate(e);\n        };\n    };\n    CalendarBase.prototype.minMaxDate = function (localDate) {\n        var currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0));\n        var minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0));\n        var maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));\n        if (+currentDate === +minDate || +currentDate === +maxDate) {\n            if (+localDate < +this.min) {\n                localDate = new Date(+this.min);\n            }\n            if (+localDate > +this.max) {\n                localDate = new Date(+this.max);\n            }\n        }\n        return localDate;\n    };\n    CalendarBase.prototype.renderMonths = function (e, value, isCustomDate) {\n        var numCells = this.weekNumber ? 8 : 7;\n        var tdEles;\n        if (this.calendarMode === 'Gregorian') {\n            tdEles = this.renderDays(this.currentDate, value, null, null, isCustomDate, e);\n        }\n        else {\n            tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n        }\n        this.createContentHeader();\n        if (this.calendarMode === 'Gregorian') {\n            this.renderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n    };\n    CalendarBase.prototype.renderDays = function (currentDate, value, multiSelection, values, isTodayDate, e) {\n        var tdEles = [];\n        var cellsCount = 42;\n        var todayDate = isTodayDate ? new Date(+currentDate) : this.getDate(new Date(), this.timezone);\n        var localDate = new Date(this.checkValue(currentDate));\n        var minMaxDate;\n        var currentMonth = localDate.getMonth();\n        this.titleUpdate(currentDate, 'days');\n        var d = localDate;\n        localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds());\n        while (localDate.getDay() !== this.firstDayOfWeek) {\n            this.setStartDate(localDate, -1 * dayMilliSeconds);\n        }\n        for (var day = 0; day < cellsCount; ++day) {\n            var weekEle = this.createElement('td', { className: CELL });\n            var weekAnchor = this.createElement('span');\n            if (day % 7 === 0 && this.weekNumber) {\n                // 6 days are added to get Last day of the week and 3 days are added to get middle day of the week.\n                var numberOfDays = this.weekRule === 'FirstDay' ? 6 : (this.weekRule === 'FirstFourDayWeek' ? 3 : 0);\n                var finalDate = new Date(localDate.getFullYear(), localDate.getMonth(), (localDate.getDate() + numberOfDays));\n                weekAnchor.textContent = '' + this.getWeek(finalDate);\n                weekEle.appendChild(weekAnchor);\n                addClass([weekEle], '' + WEEKNUMBER);\n                tdEles.push(weekEle);\n            }\n            minMaxDate = new Date(+localDate);\n            localDate = this.minMaxDate(localDate);\n            var dateFormatOptions = { type: 'dateTime', skeleton: 'full' };\n            var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n            var tdEle = this.dayCell(localDate);\n            var title = this.globalize.formatDate(localDate, { type: 'date', skeleton: 'full' });\n            var dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, { format: 'd', type: 'date', skeleton: 'yMd' });\n            var disabled = (this.min > localDate) || (this.max < localDate);\n            if (disabled) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n            }\n            else {\n                dayLink.setAttribute('title', '' + title);\n            }\n            if (currentMonth !== localDate.getMonth()) {\n                addClass([tdEle], OTHERMONTH);\n            }\n            if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n                addClass([tdEle], WEEKEND);\n            }\n            tdEle.appendChild(dayLink);\n            this.renderDayCellArgs = {\n                date: localDate,\n                isDisabled: false,\n                element: tdEle,\n                isOutOfRange: disabled\n            };\n            var argument = this.renderDayCellArgs;\n            this.renderDayCellEvent(argument);\n            if (argument.isDisabled) {\n                var selectDate = new Date(this.checkValue(value));\n                var argsDate = new Date(this.checkValue(argument.date));\n                if (multiSelection) {\n                    if (!isNullOrUndefined(values) && values.length > 0) {\n                        for (var index = 0; index < values.length; index++) {\n                            var localDateString = +new Date(this.globalize.formatDate(argument.date, { type: 'date', skeleton: 'yMd' }));\n                            var tempDateString = +new Date(this.globalize.formatDate(values[index], { type: 'date', skeleton: 'yMd' }));\n                            if (localDateString === tempDateString) {\n                                values.splice(index, 1);\n                                index = -1;\n                            }\n                        }\n                    }\n                }\n                else if (selectDate && +selectDate === +argsDate) {\n                    this.setProperties({ value: null }, true);\n                }\n            }\n            if (this.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED)) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n                if (+this.renderDayCellArgs.date === +this.todayDate) {\n                    this.todayDisabled = true;\n                }\n            }\n            var otherMnthBool = tdEle.classList.contains(OTHERMONTH);\n            var disabledCls = tdEle.classList.contains(DISABLED);\n            if (!disabledCls) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            // to set the value as null while setting the disabled date onProperty change.\n            // if (args.isDisabled && +this.value === +args.date) {\n            //     this.setProperties({ value: null }, true);\n            // }\n            var currentTarget = void 0;\n            if (!isNullOrUndefined(e) && e.type == 'click') {\n                currentTarget = e.currentTarget;\n            }\n            if (multiSelection && !isNullOrUndefined(values) && !disabledCls) {\n                for (var tempValue = 0; tempValue < values.length; tempValue++) {\n                    var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    var formatOptions = { format: null, type: 'date', skeleton: 'short', calendar: type };\n                    var localDateString = this.globalize.formatDate(localDate, formatOptions);\n                    var tempDateString = this.globalize.formatDate(values[tempValue], formatOptions);\n                    if ((localDateString === tempDateString && this.getDateVal(localDate, values[tempValue]))\n                        || (this.getDateVal(localDate, value))) {\n                        addClass([tdEle], SELECTED);\n                    }\n                    if (!isNullOrUndefined(currentTarget) && currentTarget.innerText === tdEle.innerText && this.previousDates && tdEle.classList.contains(SELECTED) && currentTarget.classList.contains(SELECTED)) {\n                        removeClass([tdEle], SELECTED);\n                        this.previousDates = false;\n                        var copyValues = this.copyValues(values);\n                        for (var i = 0; i < copyValues.length; i++) {\n                            var type_1 = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                            var formatOptions_1 = { format: null, type: 'date', skeleton: 'short', calendar: type_1 };\n                            var localDateString_1 = this.globalize.formatDate(date, formatOptions_1);\n                            var tempDateString_1 = this.globalize.formatDate(copyValues[i], formatOptions_1);\n                            if (localDateString_1 === tempDateString_1) {\n                                var index = copyValues.indexOf(copyValues[i]);\n                                copyValues.splice(index, 1);\n                                values.splice(index, 1);\n                            }\n                        }\n                        this.setProperties({ values: copyValues }, true);\n                    }\n                    else {\n                        this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                    }\n                }\n                if (values.length <= 0) {\n                    this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                }\n            }\n            else if (!disabledCls && this.getDateVal(localDate, value)) {\n                addClass([tdEle], SELECTED);\n            }\n            this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n            if (date.getFullYear() === todayDate.getFullYear() && date.getMonth() === todayDate.getMonth()\n                && date.getDate() === todayDate.getDate()) {\n                addClass([tdEle], TODAY);\n            }\n            tdEles.push(this.renderDayCellArgs.element);\n            localDate = new Date(+minMaxDate);\n            this.addDay(localDate, 1, null, this.max, this.min);\n        }\n        return tdEles;\n    };\n    CalendarBase.prototype.updateFocus = function (otherMonth, disabled, localDate, tableElement, currentDate) {\n        if (currentDate.getDate() === localDate.getDate() && !otherMonth && !disabled) {\n            addClass([tableElement], FOCUSEDDATE);\n        }\n        else {\n            // eslint-disable-next-line radix\n            if (currentDate >= this.max && parseInt(tableElement.id, 0) === +this.max && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n            // eslint-disable-next-line radix\n            if (currentDate <= this.min && parseInt(tableElement.id, 0) === +this.min && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n        }\n    };\n    CalendarBase.prototype.renderYears = function (e, value) {\n        this.removeTableHeadElement();\n        var numCells = 4;\n        var tdEles = [];\n        var valueUtil = isNullOrUndefined(value);\n        var curDate = new Date(this.checkValue(this.currentDate));\n        var mon = curDate.getMonth();\n        var yr = curDate.getFullYear();\n        var localDate = curDate;\n        var curYrs = localDate.getFullYear();\n        var minYr = new Date(this.checkValue(this.min)).getFullYear();\n        var minMonth = new Date(this.checkValue(this.min)).getMonth();\n        var maxYr = new Date(this.checkValue(this.max)).getFullYear();\n        var maxMonth = new Date(this.checkValue(this.max)).getMonth();\n        localDate.setMonth(0);\n        this.titleUpdate(this.currentDate, 'months');\n        localDate.setDate(1);\n        for (var month = 0; month < 12; ++month) {\n            var tdEle = this.dayCell(localDate);\n            var dayLink = this.createElement('span');\n            var localMonth = (value && (value).getMonth() === localDate.getMonth());\n            var select = (value && (value).getFullYear() === yr && localMonth);\n            dayLink.textContent = this.toCapitalize(this.globalize.formatDate(localDate, {\n                format: null, type: 'dateTime', skeleton: 'MMM'\n            }));\n            if ((this.min && (curYrs < minYr || (month < minMonth && curYrs === minYr))) || (this.max && (curYrs > maxYr || (month > maxMonth && curYrs >= maxYr)))) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!valueUtil && select) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getMonth() === mon && this.currentDate.getMonth() === mon) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            localDate.setDate(1);\n            localDate.setMonth(localDate.getMonth() + 1);\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, YEAR, e, value);\n    };\n    CalendarBase.prototype.renderDecades = function (e, value) {\n        this.removeTableHeadElement();\n        var numCells = 4;\n        var yearCell = 12;\n        var tdEles = [];\n        var localDate = new Date(this.checkValue(this.currentDate));\n        localDate.setMonth(0);\n        localDate.setDate(1);\n        var localYr = localDate.getFullYear();\n        var startYr = new Date(localDate.setFullYear((localYr - localYr % 10)));\n        var endYr = new Date(localDate.setFullYear((localYr - localYr % 10 + (10 - 1))));\n        var startFullYr = startYr.getFullYear();\n        var endFullYr = endYr.getFullYear();\n        var startHdrYr = this.globalize.formatDate(startYr, {\n            format: null, type: 'dateTime', skeleton: 'y'\n        });\n        var endHdrYr = this.globalize.formatDate(endYr, { format: null, type: 'dateTime', skeleton: 'y' });\n        this.headerTitleElement.textContent = startHdrYr + ' - ' + (endHdrYr);\n        var start = new Date(localYr - (localYr % 10) - 1, 0, 1);\n        var startYear = start.getFullYear();\n        for (var rowIterator = 0; rowIterator < yearCell; ++rowIterator) {\n            var year = startYear + rowIterator;\n            localDate.setFullYear(year);\n            var tdEle = this.dayCell(localDate);\n            var dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, {\n                format: null, type: 'dateTime', skeleton: 'y'\n            });\n            if ((year < startFullYr) || (year > endFullYr)) {\n                addClass([tdEle], OTHERDECADE);\n                if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                    addClass([tdEle], SELECTED);\n                }\n                if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                    year > new Date(this.checkValue(this.max)).getFullYear()) {\n                    addClass([tdEle], DISABLED);\n                }\n            }\n            else if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                year > new Date(this.checkValue(this.max)).getFullYear()) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getFullYear() === this.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED)) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, 'e-decade', e, value);\n    };\n    CalendarBase.prototype.dayCell = function (localDate) {\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var dateFormatOptions = { skeleton: 'full', type: 'dateTime', calendar: type };\n        var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n        var value = date.valueOf();\n        var attrs = {\n            className: CELL, attrs: { 'id': '' + getUniqueID('' + value), 'aria-selected': 'false' }\n        };\n        return this.createElement('td', attrs);\n    };\n    CalendarBase.prototype.firstDay = function (date) {\n        var collection = this.currentView() !== 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '');\n        if (collection.length) {\n            for (var i = 0; i < collection.length; i++) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    // eslint-disable-next-line radix\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    };\n    CalendarBase.prototype.lastDay = function (date, view) {\n        var lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n        if (view !== 2) {\n            var timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());\n            if (timeOffset) {\n                lastDate.setHours(this.firstDay(date).getHours() + (timeOffset / 60));\n            }\n            return this.findLastDay(lastDate);\n        }\n        else {\n            return this.findLastDay(this.firstDay(lastDate));\n        }\n    };\n    CalendarBase.prototype.checkDateValue = function (value) {\n        return (!isNullOrUndefined(value) && value instanceof Date && !isNaN(+value)) ? value : null;\n    };\n    CalendarBase.prototype.findLastDay = function (date) {\n        var collection = this.currentView() === 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '');\n        if (collection.length) {\n            for (var i = collection.length - 1; i >= 0; i--) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    // eslint-disable-next-line radix\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    };\n    CalendarBase.prototype.removeTableHeadElement = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.renderTemplate = function (elements, count, classNm, e, value) {\n        var view = this.getViewNumber(this.currentView());\n        var trEle;\n        this.tableBodyElement = this.createElement('tbody');\n        this.table.appendChild(this.tableBodyElement);\n        removeClass([this.contentElement, this.headerElement], [MONTH, DECADE, YEAR]);\n        addClass([this.contentElement, this.headerElement], [classNm]);\n        var weekNumCell = 41;\n        var numberCell = 35;\n        var otherMonthCell = 6;\n        var row = count;\n        var rowIterator = 0;\n        for (var dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n            trEle = this.createElement('tr');\n            for (rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) {\n                if (!elements[rowIterator].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowIterator].children[0])) {\n                    addClass([elements[rowIterator].children[0]], [LINK]);\n                    rippleEffect(elements[rowIterator].children[0], {\n                        duration: 600,\n                        isCenterRipple: true\n                    });\n                }\n                trEle.appendChild(elements[rowIterator]);\n                if (this.weekNumber && rowIterator === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (!this.weekNumber && rowIterator === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (this.weekNumber) {\n                    if (rowIterator === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n                else {\n                    if (rowIterator === numberCell && elements[numberCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n            }\n            row = row + count;\n            rowIterator = rowIterator + 0;\n            this.tableBodyElement.appendChild(trEle);\n        }\n        this.table.querySelector('tbody').className = this.effect;\n        if (this.calendarMode === 'Gregorian') {\n            this.iconHandler();\n        }\n        else {\n            this.islamicModule.islamicIconHandler();\n        }\n        if (view !== this.getViewNumber(this.currentView()) || (view === 0 && view !== this.getViewNumber(this.currentView()))) {\n            this.navigateHandler(e);\n        }\n        this.setAriaActiveDescendant();\n    };\n    CalendarBase.prototype.clickHandler = function (e, value) {\n        this.clickEventEmitter(e);\n        var eve = e.currentTarget;\n        var view = this.getViewNumber(this.currentView());\n        if (eve.classList.contains(OTHERMONTH)) {\n            this.contentClick(e, 0, null, value);\n        }\n        else if (view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (2 === view) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (!eve.classList.contains(OTHERMONTH) && view === 0) {\n            this.selectDate(e, this.getIdValue(e, null), null);\n        }\n        else {\n            this.contentClick(e, 0, eve, value);\n        }\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    // Content click event handler required for extended components\n    CalendarBase.prototype.clickEventEmitter = function (e) {\n        e.preventDefault();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.contentClick = function (e, view, element, value) {\n        var currentView = this.getViewNumber(this.currentView());\n        var d = this.getIdValue(e, element);\n        switch (view) {\n            case 0:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    detach(this.tableBodyElement);\n                    this.currentDate = d;\n                    this.effect = ZOOMIN;\n                    this.renderMonths(e);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setMonth(d.getMonth());\n                        if (d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth()) {\n                            this.currentDate.setDate(0);\n                        }\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        this.currentDate = d;\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                break;\n            case 1:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    this.selectDate(e, d, null);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        this.islamicPreviousHeader = this.headerElement.textContent;\n                        var islamicDate = this.islamicModule.getIslamicDate(d);\n                        this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month, 1);\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderYears(e);\n                }\n        }\n    };\n    CalendarBase.prototype.switchView = function (view, e, multiSelection, isCustomDate) {\n        switch (view) {\n            case 0:\n                detach(this.tableBodyElement);\n                this.renderMonths(e, null, isCustomDate);\n                break;\n            case 1:\n                detach(this.tableBodyElement);\n                this.renderYears(e);\n                break;\n            case 2:\n                detach(this.tableBodyElement);\n                this.renderDecades(e);\n        }\n    };\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    CalendarBase.prototype.getModuleName = function () {\n        return 'calendar';\n    };\n    /**\n     *\n     * @returns {void}\n\n     */\n    CalendarBase.prototype.requiredModules = function () {\n        var modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        return modules;\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    CalendarBase.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarBaseModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarBaseModel} oldProp - Returns the previous property value of the component.\n     * @param {boolean} multiSelection - - Specifies whether multiple date selection is enabled or not.\n     * @param {Date[]} values - Specifies the dates.\n     * @returns {void}\n     * @private\n     */\n    CalendarBase.prototype.onPropertyChanged = function (newProp, oldProp, multiSelection, values) {\n        this.effect = '';\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.add('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.add('e-rtl');\n                        }\n                    }\n                    else {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.remove('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.remove('e-rtl');\n                        }\n                    }\n                    break;\n                case 'dayHeaderFormat':\n                    this.getCultureValues();\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                    }\n                    this.adjustLongHeaderSize();\n                    break;\n                case 'min':\n                case 'max':\n                    this.rangeValidation(this.min, this.max);\n                    if (prop === 'min') {\n                        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(newProp.min))) }, true);\n                    }\n                    else {\n                        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(newProp.max))) }, true);\n                    }\n                    this.setProperties({ start: this.currentView() }, true);\n                    if (this.tableBodyElement) {\n                        detach(this.tableBodyElement);\n                    }\n                    this.minMaxUpdate();\n                    if (multiSelection) {\n                        this.validateValues(multiSelection, values);\n                    }\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentBody();\n                    }\n                    if ((this.todayDate < this.min || this.max < this.todayDate) && (this.footer) && (this.todayElement)) {\n                        detach(this.todayElement);\n                        detach(this.footer);\n                        this.todayElement = this.footer = null;\n                        this.createContentFooter();\n                    }\n                    else {\n                        if ((this.footer) && (this.todayElement) && this.todayElement.classList.contains('e-disabled')) {\n                            removeClass([this.todayElement], DISABLED);\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = null;\n                            this.createContentFooter();\n                        }\n                    }\n                    break;\n                case 'start':\n                case 'depth':\n                case 'weekNumber':\n                case 'firstDayOfWeek':\n                case 'weekRule':\n                    this.checkView();\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    this.l10.setLocale(this.locale);\n                    this.updateFooter();\n                    break;\n                case 'showTodayButton':\n                    if (newProp.showTodayButton) {\n                        this.createContentFooter();\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.todayElement) && !isNullOrUndefined(this.footer)) {\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = undefined;\n                        }\n                    }\n                    this.setProperties({ showTodayButton: newProp.showTodayButton }, true);\n                    break;\n            }\n        }\n    };\n    /**\n     * values property updated with considered disabled dates of the calendar.\n     *\n     * @param {boolean} multiSelection - Specifies whether multiple date selection is enabled.\n     * @param {Date[]} values - Specifies the dates to validate.\n     * @returns {void}\n     */\n    CalendarBase.prototype.validateValues = function (multiSelection, values) {\n        if (multiSelection && !isNullOrUndefined(values) && values.length > 0) {\n            var copyValues = this.copyValues(values);\n            for (var skipIndex = 0; skipIndex < copyValues.length; skipIndex++) {\n                var tempValue = copyValues[skipIndex];\n                var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                var tempValueString = void 0;\n                if (this.calendarMode === 'Gregorian') {\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'date', skeleton: 'yMd' });\n                }\n                else {\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'dateTime', skeleton: 'full', calendar: 'islamic' });\n                }\n                var minFormatOption = { type: 'date', skeleton: 'yMd', calendar: type };\n                var minStringValue = this.globalize.formatDate(this.min, minFormatOption);\n                var minString = minStringValue;\n                var maxFormatOption = { type: 'date', skeleton: 'yMd', calendar: type };\n                var maxStringValue = this.globalize.formatDate(this.max, maxFormatOption);\n                var maxString = maxStringValue;\n                if (+new Date(tempValueString) < +new Date(minString) ||\n                    +new Date(tempValueString) > +new Date(maxString)) {\n                    copyValues.splice(skipIndex, 1);\n                    skipIndex = -1;\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n        }\n    };\n    CalendarBase.prototype.setValueUpdate = function () {\n        if (!isNullOrUndefined(this.tableBodyElement)) {\n            detach(this.tableBodyElement);\n            this.setProperties({ start: this.currentView() }, true);\n            this.createContentBody();\n        }\n    };\n    CalendarBase.prototype.copyValues = function (values) {\n        var copyValues = [];\n        if (!isNullOrUndefined(values) && values.length > 0) {\n            for (var index = 0; index < values.length; index++) {\n                copyValues.push(new Date(+values[index]));\n            }\n        }\n        return copyValues;\n    };\n    CalendarBase.prototype.titleUpdate = function (date, view) {\n        var globalize = new Internationalization(this.locale);\n        var dayFormatOptions;\n        var monthFormatOptions;\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        if (this.calendarMode === 'Gregorian') {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', skeleton: 'yMMMM', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, {\n                format: null, type: 'dateTime', skeleton: 'y', calendar: type\n            });\n        }\n        else {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'MMMM y', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'y', calendar: type });\n        }\n        switch (view) {\n            case 'days':\n                this.headerTitleElement.textContent = this.toCapitalize(dayFormatOptions);\n                break;\n            case 'months':\n                this.headerTitleElement.textContent = monthFormatOptions;\n        }\n    };\n    CalendarBase.prototype.setActiveDescendant = function () {\n        var id;\n        var focusedEle = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        var selectedEle = this.tableBodyElement.querySelector('tr td.e-selected');\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var title;\n        var view = this.currentView();\n        if (view === 'Month') {\n            title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'full', calendar: type });\n        }\n        else if (view === 'Year') {\n            if (type !== 'islamic') {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'yMMMM', calendar: type });\n            }\n            else {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'GyMMM', calendar: type });\n            }\n        }\n        else {\n            title = this.globalize.formatDate(this.currentDate, {\n                format: null, type: 'date', skeleton: 'y', calendar: type\n            });\n        }\n        if (selectedEle || focusedEle) {\n            if (!isNullOrUndefined(selectedEle)) {\n                selectedEle.setAttribute('aria-selected', 'true');\n            }\n            (focusedEle || selectedEle).setAttribute('aria-label', title);\n            id = (focusedEle || selectedEle).getAttribute('id');\n        }\n        return id;\n    };\n    CalendarBase.prototype.iconHandler = function () {\n        new Date(this.checkValue(this.currentDate)).setDate(1);\n        switch (this.currentView()) {\n            case 'Month':\n                this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Year':\n                this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Decade':\n                this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        }\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    CalendarBase.prototype.destroy = function () {\n        if (this.getModuleName() === 'calendar' && this.element) {\n            removeClass([this.element], [ROOT]);\n        }\n        else {\n            if (this.calendarElement && this.element) {\n                removeClass([this.element], [ROOT]);\n            }\n        }\n        if (this.getModuleName() === 'calendar' && this.element) {\n            if (!isNullOrUndefined(this.headerTitleElement)) {\n                EventHandler.remove(this.headerTitleElement, 'click', this.navigateTitle);\n            }\n            if (this.todayElement) {\n                EventHandler.remove(this.todayElement, 'click', this.todayButtonClick);\n            }\n            this.previousIconHandler(true);\n            this.nextIconHandler(true);\n            this.keyboardModule.destroy();\n            this.element.removeAttribute('data-role');\n            if (!isNullOrUndefined(this.calendarEleCopy.getAttribute('tabindex'))) {\n                this.element.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.element.removeAttribute('tabindex');\n            }\n        }\n        if (this.element) {\n            this.element.innerHTML = '';\n        }\n        this.todayElement = null;\n        this.tableBodyElement = null;\n        this.renderDayCellArgs = null;\n        this.headerElement = null;\n        this.nextIcon = null;\n        this.table = null;\n        this.tableHeadElement = null;\n        this.previousIcon = null;\n        this.headerTitleElement = null;\n        this.footer = null;\n        this.contentElement = null;\n        _super.prototype.destroy.call(this);\n    };\n    CalendarBase.prototype.title = function (e) {\n        var currentView = this.getViewNumber(this.currentView());\n        this.effect = ZOOMIN;\n        this.switchView(++currentView, e);\n    };\n    CalendarBase.prototype.getViewNumber = function (stringVal) {\n        if (stringVal === 'Month') {\n            return 0;\n        }\n        else if (stringVal === 'Year') {\n            return 1;\n        }\n        else {\n            return 2;\n        }\n    };\n    CalendarBase.prototype.navigateTitle = function (e) {\n        e.preventDefault();\n        this.title(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.previous = function () {\n        this.effect = '';\n        var currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, -10);\n                this.switchView(currentView);\n                break;\n        }\n    };\n    CalendarBase.prototype.navigatePrevious = function (e) {\n        e.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.previous();\n        }\n        else {\n            this.islamicModule.islamicPrevious();\n        }\n        this.triggerNavigate(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.next = function () {\n        this.effect = '';\n        var currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, 10);\n                this.switchView(currentView);\n                break;\n        }\n    };\n    CalendarBase.prototype.navigateNext = function (eve) {\n        eve.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.next();\n        }\n        else {\n            this.islamicModule.islamicNext();\n        }\n        this.triggerNavigate(eve);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n     */\n    CalendarBase.prototype.navigateTo = function (view, date, isCustomDate) {\n        if (+date >= +this.min && +date <= +this.max) {\n            this.currentDate = date;\n        }\n        if (+date <= +this.min) {\n            this.currentDate = new Date(this.checkValue(this.min));\n        }\n        if (+date >= +this.max) {\n            this.currentDate = new Date(this.checkValue(this.max));\n        }\n        if ((this.getViewNumber(this.depth) >= this.getViewNumber(view))) {\n            if ((this.getViewNumber(this.depth) <= this.getViewNumber(this.start))\n                || this.getViewNumber(this.depth) === this.getViewNumber(view)) {\n                view = this.depth;\n            }\n        }\n        this.switchView(this.getViewNumber(view), null, null, isCustomDate);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     */\n    CalendarBase.prototype.currentView = function () {\n        if (this.contentElement.classList.contains(YEAR)) {\n            return 'Year';\n        }\n        else if (this.contentElement.classList.contains(DECADE)) {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    CalendarBase.prototype.getDateVal = function (date, value) {\n        return (!isNullOrUndefined(value) && date.getDate() === (value).getDate()\n            && date.getMonth() === (value).getMonth() && date.getFullYear() === (value).getFullYear());\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.getCultureObjects = function (ld, c) {\n        var gregorianFormat = '.dates.calendars.gregorian.days.format.' + this.dayHeaderFormat.toLowerCase();\n        var islamicFormat = '.dates.calendars.islamic.days.format.' + this.dayHeaderFormat.toLowerCase();\n        var mainVal = 'main.';\n        if (this.calendarMode === 'Gregorian') {\n            return getValue(mainVal + '' + this.locale + gregorianFormat, ld);\n        }\n        else {\n            return getValue('main.' + '' + this.locale + islamicFormat, ld);\n        }\n    };\n    CalendarBase.prototype.getWeek = function (d) {\n        var currentDate = new Date(this.checkValue(d)).valueOf();\n        var date = new Date(d.getFullYear(), 0, 1).valueOf();\n        return Math.ceil((((currentDate - date) + dayMilliSeconds) / dayMilliSeconds) / 7);\n    };\n    CalendarBase.prototype.setStartDate = function (date, time) {\n        var tzOffset = date.getTimezoneOffset();\n        var d = new Date(date.getTime() + time);\n        var tzOffsetDiff = d.getTimezoneOffset() - tzOffset;\n        date.setTime(d.getTime() + tzOffsetDiff * minutesMilliSeconds);\n    };\n    CalendarBase.prototype.addMonths = function (date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            var day = date.getDate();\n            date.setDate(1);\n            date.setMonth(date.getMonth() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year, (islamicDate.month) + i, 1);\n        }\n    };\n    CalendarBase.prototype.addYears = function (date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            var day = date.getDate();\n            date.setDate(1);\n            date.setFullYear(date.getFullYear() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year + i, (islamicDate.month), 1);\n        }\n    };\n    CalendarBase.prototype.getIdValue = function (e, element) {\n        var eve;\n        if (e) {\n            eve = e.currentTarget;\n        }\n        else {\n            eve = element;\n        }\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var dateFormatOptions = { type: 'dateTime', skeleton: 'full', calendar: type };\n        // eslint-disable-next-line radix\n        var dateString = this.globalize.formatDate(new Date(parseInt('' + eve.getAttribute('id'), 0)), dateFormatOptions);\n        var date = this.globalize.parseDate(dateString, dateFormatOptions);\n        var value = date.valueOf() - date.valueOf() % 1000;\n        return new Date(value);\n        //return this.globalize.parseDate(dateString, dateFormatOptions);\n    };\n    CalendarBase.prototype.adjustLongHeaderSize = function () {\n        removeClass([this.element], DAYHEADERLONG);\n        if (this.dayHeaderFormat === 'Wide') {\n            addClass([this.getModuleName() === 'calendar' ? this.element : this.calendarElement], DAYHEADERLONG);\n        }\n    };\n    CalendarBase.prototype.selectDate = function (e, date, node, multiSelection, values) {\n        var element = node || e.currentTarget;\n        this.isDateSelected = false;\n        if (this.currentView() === 'Decade') {\n            this.setDateDecade(this.currentDate, date.getFullYear());\n        }\n        else if (this.currentView() === 'Year') {\n            this.setDateYear(this.currentDate, date);\n        }\n        else {\n            if (multiSelection && !this.checkPresentDate(date, values)) {\n                var copyValues = this.copyValues(values);\n                if (!isNullOrUndefined(values) && copyValues.length > 0) {\n                    copyValues.push(new Date(this.checkValue(date)));\n                    this.setProperties({ values: copyValues }, true);\n                    this.setProperties({ value: values[values.length - 1] }, true);\n                }\n                else {\n                    this.setProperties({ values: [new Date(this.checkValue(date))] }, true);\n                }\n            }\n            else {\n                this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n            }\n            this.currentDate = new Date(this.checkValue(date));\n        }\n        var tableBodyElement = closest(element, '.' + ROOT);\n        if (isNullOrUndefined(tableBodyElement)) {\n            tableBodyElement = this.tableBodyElement;\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + SELECTED))) {\n            removeClass([tableBodyElement.querySelector('.' + SELECTED)], SELECTED);\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + FOCUSEDDATE))) {\n            removeClass([tableBodyElement.querySelector('.' + FOCUSEDDATE)], FOCUSEDDATE);\n        }\n        if (multiSelection) {\n            var copyValues = this.copyValues(values);\n            var collection = Array.prototype.slice.call(this.tableBodyElement.querySelectorAll('td'));\n            for (var index = 0; index < collection.length; index++) {\n                var tempElement = tableBodyElement.querySelectorAll('td' + '.' + FOCUSEDDATE)[0];\n                var selectedElement = tableBodyElement.querySelectorAll('td' + '.' + SELECTED)[0];\n                if (collection[index] === tempElement) {\n                    removeClass([collection[index]], FOCUSEDDATE);\n                }\n                if (collection[index] === selectedElement &&\n                    !this.checkPresentDate(new Date(parseInt(selectedElement.getAttribute('id').split('_')[0], 10)), values)) {\n                    removeClass([collection[index]], SELECTED);\n                }\n            }\n            if (element.classList.contains(SELECTED)) {\n                removeClass([element], SELECTED);\n                for (var i = 0; i < copyValues.length; i++) {\n                    var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    var formatOptions = { format: null, type: 'date', skeleton: 'short', calendar: type };\n                    var localDateString = this.globalize.formatDate(date, formatOptions);\n                    var tempDateString = this.globalize.formatDate(copyValues[i], formatOptions);\n                    if (localDateString === tempDateString) {\n                        var index = copyValues.indexOf(copyValues[i]);\n                        copyValues.splice(index, 1);\n                        addClass([element], FOCUSEDDATE);\n                    }\n                }\n                this.setProperties({ values: copyValues }, true);\n            }\n            else {\n                addClass([element], SELECTED);\n            }\n        }\n        else {\n            addClass([element], SELECTED);\n        }\n        this.isDateSelected = true;\n    };\n    CalendarBase.prototype.checkPresentDate = function (dates, values) {\n        var previousValue = false;\n        if (!isNullOrUndefined(values)) {\n            for (var checkPrevious = 0; checkPrevious < values.length; checkPrevious++) {\n                var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                var localDateString = this.globalize.formatDate(dates, {\n                    format: null, type: 'date', skeleton: 'short', calendar: type\n                });\n                var tempDateString = this.globalize.formatDate(values[checkPrevious], {\n                    format: null, type: 'date', skeleton: 'short', calendar: type\n                });\n                if (localDateString === tempDateString) {\n                    previousValue = true;\n                }\n            }\n        }\n        return previousValue;\n    };\n    CalendarBase.prototype.setAriaActiveDescendant = function () {\n        attributes(this.table, {\n            'aria-activedescendant': '' + this.setActiveDescendant()\n        });\n    };\n    CalendarBase.prototype.previousIconHandler = function (disabled) {\n        if (disabled) {\n            if (!isNullOrUndefined(this.previousIcon)) {\n                EventHandler.remove(this.previousIcon, 'click', this.navigatePreviousHandler);\n                addClass([this.previousIcon], '' + DISABLED);\n                addClass([this.previousIcon], '' + OVERLAY);\n                this.previousIcon.setAttribute('aria-disabled', 'true');\n            }\n        }\n        else {\n            EventHandler.add(this.previousIcon, 'click', this.navigatePreviousHandler);\n            removeClass([this.previousIcon], '' + DISABLED);\n            removeClass([this.previousIcon], '' + OVERLAY);\n            this.previousIcon.setAttribute('aria-disabled', 'false');\n        }\n    };\n    CalendarBase.prototype.renderDayCellEvent = function (args) {\n        extend(this.renderDayCellArgs, { name: 'renderDayCell' });\n        this.trigger('renderDayCell', args);\n    };\n    CalendarBase.prototype.navigatedEvent = function (eve) {\n        extend(this.navigatedArgs, { name: 'navigated', event: eve });\n        this.trigger('navigated', this.navigatedArgs);\n    };\n    CalendarBase.prototype.triggerNavigate = function (event) {\n        this.navigatedArgs = { view: this.currentView(), date: this.currentDate };\n        this.navigatedEvent(event);\n    };\n    CalendarBase.prototype.nextIconHandler = function (disabled) {\n        if (disabled) {\n            if (!isNullOrUndefined(this.previousIcon)) {\n                EventHandler.remove(this.nextIcon, 'click', this.navigateNextHandler);\n                addClass([this.nextIcon], DISABLED);\n                addClass([this.nextIcon], OVERLAY);\n                this.nextIcon.setAttribute('aria-disabled', 'true');\n            }\n        }\n        else {\n            EventHandler.add(this.nextIcon, 'click', this.navigateNextHandler);\n            removeClass([this.nextIcon], DISABLED);\n            removeClass([this.nextIcon], OVERLAY);\n            this.nextIcon.setAttribute('aria-disabled', 'false');\n        }\n    };\n    CalendarBase.prototype.compare = function (startDate, endDate, modifier) {\n        var start = endDate.getFullYear();\n        var end;\n        var result;\n        end = start;\n        result = 0;\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n        if (startDate.getFullYear() > end) {\n            result = 1;\n        }\n        else if (startDate.getFullYear() < start) {\n            result = -1;\n        }\n        return result;\n    };\n    CalendarBase.prototype.isMinMaxRange = function (date) {\n        return +date >= +this.min && +date <= +this.max;\n    };\n    CalendarBase.prototype.isMonthYearRange = function (date) {\n        if (this.calendarMode === 'Gregorian') {\n            return date.getMonth() >= this.min.getMonth()\n                && date.getFullYear() >= this.min.getFullYear()\n                && date.getMonth() <= this.max.getMonth()\n                && date.getFullYear() <= this.max.getFullYear();\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            return islamicDate.month >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).month\n                && islamicDate.year >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).year\n                && islamicDate.month <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).month\n                && islamicDate.year <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).year;\n        }\n    };\n    CalendarBase.prototype.compareYear = function (start, end) {\n        return this.compare(start, end, 0);\n    };\n    CalendarBase.prototype.compareDecade = function (start, end) {\n        return this.compare(start, end, 10);\n    };\n    CalendarBase.prototype.shiftArray = function (array, i) {\n        return array.slice(i).concat(array.slice(0, i));\n    };\n    CalendarBase.prototype.addDay = function (date, i, e, max, min) {\n        var column = i;\n        var value = new Date(+date);\n        if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {\n            while (this.findNextTD(new Date(+date), column, max, min)) {\n                column += i;\n            }\n            var rangeValue = new Date(value.setDate(value.getDate() + column));\n            column = (+rangeValue > +max || +rangeValue < +min) ? column === i ? i - i : i : column;\n        }\n        date.setDate(date.getDate() + column);\n    };\n    CalendarBase.prototype.findNextTD = function (date, column, max, min) {\n        var value = new Date(date.setDate(date.getDate() + column));\n        var collection = [];\n        var isDisabled = false;\n        if ((!isNullOrUndefined(value) && value.getMonth()) === (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {\n            var tdEles = void 0;\n            if (this.calendarMode === 'Gregorian') {\n                tdEles = this.renderDays(value);\n            }\n            else {\n                tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n            }\n            collection = tdEles.filter(function (element) {\n                return element.classList.contains(DISABLED);\n            });\n        }\n        else {\n            collection = this.tableBodyElement.querySelectorAll('td.' + DISABLED);\n        }\n        if (+value <= (+(max)) && +value >= (+(min))) {\n            if (collection.length) {\n                for (var i = 0; i < collection.length; i++) {\n                    // eslint-disable-next-line radix\n                    isDisabled = (+value === +new Date(parseInt(collection[i].id, 0))) ? true : false;\n                    if (isDisabled) {\n                        break;\n                    }\n                }\n            }\n        }\n        return isDisabled;\n    };\n    CalendarBase.prototype.getMaxDays = function (d) {\n        var date;\n        var tmpDate = new Date(this.checkValue(d));\n        date = 28;\n        var month = tmpDate.getMonth();\n        while (tmpDate.getMonth() === month) {\n            ++date;\n            tmpDate.setDate(date);\n        }\n        return date - 1;\n    };\n    CalendarBase.prototype.setDateDecade = function (date, year) {\n        date.setFullYear(year);\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    };\n    CalendarBase.prototype.setDateYear = function (date, value) {\n        date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate());\n        if (value.getMonth() !== date.getMonth()) {\n            date.setDate(0);\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    };\n    CalendarBase.prototype.compareMonth = function (start, end) {\n        var result;\n        if (start.getFullYear() > end.getFullYear()) {\n            result = 1;\n        }\n        else if (start.getFullYear() < end.getFullYear()) {\n            result = -1;\n        }\n        else {\n            result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;\n        }\n        return result;\n    };\n    CalendarBase.prototype.checkValue = function (inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    };\n    CalendarBase.prototype.checkView = function () {\n        if (this.start !== 'Decade' && this.start !== 'Year') {\n            this.setProperties({ start: 'Month' }, true);\n        }\n        if (this.depth !== 'Decade' && this.depth !== 'Year') {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n        if (this.getViewNumber(this.depth) > this.getViewNumber(this.start)) {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n    };\n    CalendarBase.prototype.getDate = function (date, timezone) {\n        if (timezone) {\n            date = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n        }\n        return date;\n    };\n    __decorate([\n        Property(new Date(1900, 0, 1))\n    ], CalendarBase.prototype, \"min\", void 0);\n    __decorate([\n        Property(true)\n    ], CalendarBase.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(new Date(2099, 11, 31))\n    ], CalendarBase.prototype, \"max\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"firstDayOfWeek\", void 0);\n    __decorate([\n        Property('Gregorian')\n    ], CalendarBase.prototype, \"calendarMode\", void 0);\n    __decorate([\n        Property('Month')\n    ], CalendarBase.prototype, \"start\", void 0);\n    __decorate([\n        Property('Month')\n    ], CalendarBase.prototype, \"depth\", void 0);\n    __decorate([\n        Property(false)\n    ], CalendarBase.prototype, \"weekNumber\", void 0);\n    __decorate([\n        Property('FirstDay')\n    ], CalendarBase.prototype, \"weekRule\", void 0);\n    __decorate([\n        Property(true)\n    ], CalendarBase.prototype, \"showTodayButton\", void 0);\n    __decorate([\n        Property('Short')\n    ], CalendarBase.prototype, \"dayHeaderFormat\", void 0);\n    __decorate([\n        Property(false)\n    ], CalendarBase.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"serverTimezoneOffset\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"navigated\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"renderDayCell\", void 0);\n    CalendarBase = __decorate([\n        NotifyPropertyChanges\n    ], CalendarBase);\n    return CalendarBase;\n}(Component));\nexport { CalendarBase };\n/**\n * Represents the Calendar component that allows the user to select a date.\n * ```html\n * <div id=\"calendar\"/>\n * ```\n * ```typescript\n * <script>\n *   var calendarObj = new Calendar({ value: new Date() });\n *   calendarObj.appendTo(\"#calendar\");\n * </script>\n * ```\n */\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     *\n     * @param {CalendarModel} options - Specifies the Calendar model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function Calendar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.render = function () {\n        if (this.calendarMode === 'Islamic' && this.islamicModule === undefined) {\n            throwError('Requires the injectable Islamic modules to render Calendar in Islamic mode');\n        }\n        if (this.isMultiSelection && typeof this.values === 'object' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            var tempValues = [];\n            var copyValues = [];\n            for (var limit = 0; limit < this.values.length; limit++) {\n                if (tempValues.indexOf(+this.values[limit]) === -1) {\n                    tempValues.push(+this.values[limit]);\n                    copyValues.push(this.values[limit]);\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            for (var index = 0; index < this.values.length; index++) {\n                if (!this.checkDateValue(this.values[index])) {\n                    if (typeof (this.values[index]) === 'string' && this.checkDateValue(new Date(this.checkValue(this.values[index])))) {\n                        var copyDate = new Date(this.checkValue(this.values[index]));\n                        this.values.splice(index, 1);\n                        this.values.splice(index, 0, copyDate);\n                    }\n                    else {\n                        this.values.splice(index, 1);\n                    }\n                }\n            }\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            this.previousValues = this.values.length;\n        }\n        this.validateDate();\n        this.minMaxUpdate();\n        if (this.getModuleName() === 'calendar') {\n            this.setEnable(this.enabled);\n            this.setClass(this.cssClass);\n        }\n        _super.prototype.render.call(this);\n        if (this.getModuleName() === 'calendar') {\n            var form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.add(form, 'reset', this.formResetHandler.bind(this));\n            }\n            this.setTimeZone(this.serverTimezoneOffset);\n        }\n        this.renderComplete();\n    };\n    Calendar.prototype.setEnable = function (enable) {\n        if (!enable) {\n            addClass([this.element], DISABLED);\n        }\n        else {\n            removeClass([this.element], DISABLED);\n        }\n    };\n    Calendar.prototype.setClass = function (newCssClass, oldCssClass) {\n        if (!isNullOrUndefined(oldCssClass)) {\n            oldCssClass = (oldCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            newCssClass = (newCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(oldCssClass) && oldCssClass !== '') {\n            removeClass([this.element], oldCssClass.split(' '));\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            addClass([this.element], newCssClass.split(' '));\n        }\n    };\n    Calendar.prototype.isDayLightSaving = function () {\n        var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n        var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n        return (this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset));\n    };\n    Calendar.prototype.setTimeZone = function (offsetValue) {\n        if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n            var serverTimezoneDiff = offsetValue;\n            var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n            var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n            timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n            this.value = new Date(this.value.getTime() + (timeZoneDiff * 60 * 60 * 1000));\n        }\n    };\n    Calendar.prototype.formResetHandler = function () {\n        this.setProperties({ value: null }, true);\n    };\n    Calendar.prototype.validateDate = function () {\n        if (typeof this.value === 'string') {\n            this.setProperties({ value: this.checkDateValue(new Date(this.checkValue(this.value))) }, true); // persist the value property.\n        }\n        _super.prototype.validateDate.call(this, this.value);\n        if (!isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max) {\n            this.currentDate = new Date(this.checkValue(this.value));\n        }\n        if (isNaN(+this.value)) {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    Calendar.prototype.minMaxUpdate = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max) {\n                this.setProperties({ value: this.min }, true);\n                this.changedArgs = { value: this.value };\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max) {\n                    this.setProperties({ value: this.max }, true);\n                    this.changedArgs = { value: this.value };\n                }\n            }\n        }\n        if (this.getModuleName() !== 'calendar' && !isNullOrUndefined(this.value)) {\n            if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max) {\n                _super.prototype.minMaxUpdate.call(this, this.min);\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max) {\n                    _super.prototype.minMaxUpdate.call(this, this.max);\n                }\n            }\n        }\n        else {\n            _super.prototype.minMaxUpdate.call(this, this.value);\n        }\n    };\n    Calendar.prototype.generateTodayVal = function (value) {\n        var tempValue = new Date();\n        if (!isNullOrUndefined(this.timezone)) {\n            tempValue = _super.prototype.getDate.call(this, tempValue, this.timezone);\n        }\n        if (value && isNullOrUndefined(this.timezone)) {\n            tempValue.setHours(value.getHours());\n            tempValue.setMinutes(value.getMinutes());\n            tempValue.setSeconds(value.getSeconds());\n            tempValue.setMilliseconds(value.getMilliseconds());\n        }\n        else {\n            tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0, 0);\n        }\n        return tempValue;\n    };\n    Calendar.prototype.todayButtonClick = function (e) {\n        if (this.showTodayButton) {\n            var tempValue = this.generateTodayVal(this.value);\n            this.setProperties({ value: tempValue }, true);\n            this.isTodayClicked = true;\n            this.todayButtonEvent = e;\n            if (this.isMultiSelection) {\n                var copyValues = this.copyValues(this.values);\n                if (!_super.prototype.checkPresentDate.call(this, tempValue, this.values)) {\n                    copyValues.push(tempValue);\n                    this.setProperties({ values: copyValues });\n                }\n            }\n            _super.prototype.todayButtonClick.call(this, e, new Date(+this.value));\n        }\n    };\n    Calendar.prototype.keyActionHandle = function (e) {\n        _super.prototype.keyActionHandle.call(this, e, this.value, this.isMultiSelection);\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.preRender = function () {\n        var _this = this;\n        this.changeHandler = function (e) {\n            _this.triggerChange(e);\n        };\n        this.checkView();\n        _super.prototype.preRender.call(this, this.value);\n    };\n    /**\n     * @returns {void}\n\n     */\n    Calendar.prototype.createContent = function () {\n        this.previousDate = this.value;\n        this.previousDateTime = this.value;\n        _super.prototype.createContent.call(this);\n    };\n    Calendar.prototype.minMaxDate = function (localDate) {\n        return _super.prototype.minMaxDate.call(this, localDate);\n    };\n    Calendar.prototype.renderMonths = function (e, value, isCustomDate) {\n        _super.prototype.renderMonths.call(this, e, this.value, isCustomDate);\n    };\n    Calendar.prototype.renderDays = function (currentDate, value, isMultiSelect, values, isCustomDate, e) {\n        var tempDays = _super.prototype.renderDays.call(this, currentDate, this.value, this.isMultiSelection, this.values, isCustomDate, e);\n        if (this.isMultiSelection) {\n            _super.prototype.validateValues.call(this, this.isMultiSelection, this.values);\n        }\n        return tempDays;\n    };\n    Calendar.prototype.renderYears = function (e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderYears.call(this, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderYears(e, this.value);\n        }\n    };\n    Calendar.prototype.renderDecades = function (e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderDecades.call(this, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderDecade(e, this.value);\n        }\n    };\n    Calendar.prototype.renderTemplate = function (elements, count, classNm, e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderTemplate.call(this, elements, count, classNm, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(elements, count, classNm, e, this.value);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        this.changeHandler();\n    };\n    Calendar.prototype.clickHandler = function (e) {\n        var eve = e.currentTarget;\n        this.isPopupClicked = true;\n        if (eve.classList.contains(OTHERMONTH)) {\n            if (this.isMultiSelection) {\n                var copyValues = this.copyValues(this.values);\n                if (copyValues.toString().indexOf(this.getIdValue(e, null).toString()) === -1) {\n                    copyValues.push(this.getIdValue(e, null));\n                    this.setProperties({ values: copyValues }, true);\n                    this.setProperties({ value: this.values[this.values.length - 1] }, true);\n                }\n                else {\n                    this.previousDates = true;\n                }\n            }\n            else {\n                this.setProperties({ value: this.getIdValue(e, null) }, true);\n            }\n        }\n        var storeView = this.currentView();\n        _super.prototype.clickHandler.call(this, e, this.value);\n        if (this.isMultiSelection && this.currentDate !== this.value &&\n            !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0]) && storeView === 'Year') {\n            this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n        }\n    };\n    Calendar.prototype.switchView = function (view, e, isMultiSelection, isCustomDate) {\n        _super.prototype.switchView.call(this, view, e, this.isMultiSelection, isCustomDate);\n    };\n    /**\n     * To get component name\n     *\n     * @returns {string} Return the component name.\n     * @private\n     */\n    Calendar.prototype.getModuleName = function () {\n        _super.prototype.getModuleName.call(this);\n        return 'calendar';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    Calendar.prototype.getPersistData = function () {\n        _super.prototype.getPersistData.call(this);\n        var keyEntity = ['value', 'values'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        this.effect = '';\n        this.rangeValidation(this.min, this.max);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.value === 'string') {\n                            this.setProperties({ value: new Date(this.checkValue(newProp.value)) }, true);\n                        }\n                        else {\n                            newProp.value = new Date(this.checkValue(newProp.value));\n                        }\n                        if (isNaN(+this.value)) {\n                            this.setProperties({ value: oldProp.value }, true);\n                        }\n                        this.update();\n                    }\n                    break;\n                case 'values':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.values === 'string' || typeof newProp.values === 'number') {\n                            this.setProperties({ values: null }, true);\n                        }\n                        else {\n                            var copyValues = this.copyValues(this.values);\n                            for (var index = 0; index < copyValues.length; index++) {\n                                var tempDate = copyValues[index];\n                                if (this.checkDateValue(tempDate) && !_super.prototype.checkPresentDate.call(this, tempDate, copyValues)) {\n                                    copyValues.push(tempDate);\n                                }\n                            }\n                            this.setProperties({ values: copyValues }, true);\n                            if (this.values.length > 0) {\n                                this.setProperties({ value: newProp.values[newProp.values.length - 1] }, true);\n                            }\n                        }\n                        this.validateValues(this.isMultiSelection, this.values);\n                        this.update();\n                    }\n                    break;\n                case 'isMultiSelection':\n                    if (this.isDateSelected) {\n                        this.setProperties({ isMultiSelection: newProp.isMultiSelection }, true);\n                        this.update();\n                    }\n                    break;\n                case 'enabled':\n                    this.setEnable(this.enabled);\n                    break;\n                case 'cssClass':\n                    if (this.getModuleName() === 'calendar') {\n                        this.setClass(newProp.cssClass, oldProp.cssClass);\n                    }\n                    break;\n                default:\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp, this.isMultiSelection, this.values);\n            }\n        }\n        this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    Calendar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.getModuleName() === 'calendar') {\n            var form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.remove(form, 'reset', this.formResetHandler.bind(this));\n            }\n        }\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n\n     */\n    Calendar.prototype.navigateTo = function (view, date, isCustomDate) {\n        this.minMaxUpdate();\n        _super.prototype.navigateTo.call(this, view, date, isCustomDate);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n\n     */\n    Calendar.prototype.currentView = function () {\n        return _super.prototype.currentView.call(this);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * This method is used to add the single or multiple dates to the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates to be added to the values property of the Calendar.\n     * @returns {void}\n\n     */\n    Calendar.prototype.addDate = function (dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number') {\n            var copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && (dates).length > 0) {\n                var tempDates = dates;\n                for (var i = 0; i < tempDates.length; i++) {\n                    if (this.checkDateValue(tempDates[i]) && !_super.prototype.checkPresentDate.call(this, tempDates[i], copyValues)) {\n                        if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                            copyValues.push(tempDates[i]);\n                        }\n                        else {\n                            copyValues = [new Date(+tempDates[i])];\n                        }\n                    }\n                }\n            }\n            else {\n                if (this.checkDateValue(dates) && !_super.prototype.checkPresentDate.call(this, dates, copyValues)) {\n                    if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                        copyValues.push((dates));\n                    }\n                    else {\n                        copyValues = [new Date(+dates)];\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.validateValues(this.isMultiSelection, copyValues);\n            this.update();\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    };\n    /**\n     * This method is used to remove the single or multiple dates from the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates which need to be removed from the values property of the Calendar.\n     * @returns {void}\n\n     */\n    Calendar.prototype.removeDate = function (dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            var copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && ((dates).length > 0)) {\n                var tempDates = dates;\n                for (var index = 0; index < tempDates.length; index++) {\n                    for (var i = 0; i < copyValues.length; i++) {\n                        if (+copyValues[i] === +tempDates[index]) {\n                            copyValues.splice(i, 1);\n                        }\n                    }\n                }\n            }\n            else {\n                for (var i = 0; i < copyValues.length; i++) {\n                    if (+copyValues[i] === +dates) {\n                        copyValues.splice(i, 1);\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, false);\n            this.update();\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    };\n    /**\n     * To set custom today date in calendar\n     *\n     * @param {Date} date - Specifies date value to be set.\n     * @private\n     * @returns {void}\n     */\n    Calendar.prototype.setTodayDate = function (date) {\n        var todayDate = new Date(+date);\n        this.setProperties({ value: todayDate }, true);\n        _super.prototype.todayButtonClick.call(this, null, todayDate, true);\n    };\n    Calendar.prototype.update = function () {\n        this.validateDate();\n        this.minMaxUpdate();\n        _super.prototype.setValueUpdate.call(this);\n    };\n    Calendar.prototype.selectDate = function (e, date, element) {\n        _super.prototype.selectDate.call(this, e, date, element, this.isMultiSelection, this.values);\n        if (this.isMultiSelection && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        this.changeHandler(e);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Calendar.prototype.changeEvent = function (e) {\n        if ((this.value && this.value.valueOf()) !== (this.previousDate && +this.previousDate.valueOf())\n            || this.isMultiSelection) {\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', this.changedArgs);\n            }\n            this.previousDate = new Date(+this.value);\n        }\n    };\n    Calendar.prototype.triggerChange = function (e) {\n        if (!isNullOrUndefined(this.todayButtonEvent) && this.isTodayClicked) {\n            e = this.todayButtonEvent;\n            this.isTodayClicked = false;\n        }\n        this.changedArgs.event = e || null;\n        this.changedArgs.isInteracted = !isNullOrUndefined(e);\n        if (!isNullOrUndefined(this.value)) {\n            this.setProperties({ value: this.value }, true);\n        }\n        if (!this.isMultiSelection && +this.value !== Number.NaN && (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.previousDate) || this.previousDate == null\n            && !isNaN(+this.value))) {\n            this.changeEvent(e);\n        }\n        else if (!isNullOrUndefined(this.values) && this.previousValues !== this.values.length) {\n            this.changeEvent(e);\n            this.previousValues = this.values.length;\n        }\n    };\n    __decorate([\n        Property(null)\n    ], Calendar.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], Calendar.prototype, \"values\", void 0);\n    __decorate([\n        Property(false)\n    ], Calendar.prototype, \"isMultiSelection\", void 0);\n    __decorate([\n        Event()\n    ], Calendar.prototype, \"change\", void 0);\n    Calendar = __decorate([\n        NotifyPropertyChanges\n    ], Calendar);\n    return Calendar;\n}(CalendarBase));\nexport { Calendar };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}