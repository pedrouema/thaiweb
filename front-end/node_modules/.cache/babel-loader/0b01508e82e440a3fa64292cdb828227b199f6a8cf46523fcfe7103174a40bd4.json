{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Chart from 'chart.js/auto';\n;\nexport default {\n  name: 'AnalisesAlunos',\n  data() {\n    return {\n      URL: \"http://localhost:4000\",\n      meses: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],\n      mesesUsar: [],\n      qtdeAlunos: []\n    };\n  },\n  methods: {\n    alimentarDadosQtde() {\n      let qtde;\n      let mes = parseFloat(this.mesAtual);\n      let ano = parseFloat(this.anoAtual);\n      for (let i = 6; i >= 0; i--) {\n        axios.get(`${this.URL}/alunosquantidademes/${mes}/${ano}`).then(response => {\n          qtde = response.data[0].count;\n          if (qtde == null) qtde = 0;\n          this.qtdeAlunos[i] = qtde;\n        }).catch(error => {\n          console.log(error);\n        });\n        mes--;\n        if (mes == 0) {\n          mes = 12;\n          ano--;\n        }\n      }\n    },\n    filtraMeses() {\n      let mes = this.mesAtual - 1;\n      for (let i = 0; i < 7; i++) {\n        if (mes == -1) mes = this.meses.length - 1;\n        this.mesesUsar.push(this.meses[mes]);\n        mes--;\n      }\n      let aux = [];\n      for (let i = this.mesesUsar.length - 1; i >= 0; i--) aux.push(this.mesesUsar[i]);\n      this.mesesUsar = aux;\n    },\n    pegarDataAtual() {\n      const data = new Date();\n      const dia = String(data.getDate()).padStart(2, '0');\n      const mes = String(data.getMonth() + 1).padStart(2, '0');\n      const ano = String(data.getFullYear());\n      const atual = `${dia}/${mes}/${ano}`;\n      this.mesAtual = mes;\n      this.diaAtual = dia;\n      this.anoAtual = ano;\n      this.dataAtual = atual;\n      this.mesAno = mes + '-' + ano;\n      this.diaDaSemana = data.toLocaleString('pt-BR', {\n        weekday: 'long'\n      });\n    }\n  },\n  mounted() {\n    this.pegarDataAtual();\n    this.filtraMeses();\n    this.alimentarDadosQtde();\n    const data = {\n      labels: this.mesesUsar,\n      datasets: [{\n        label: 'Novos Alunos',\n        data: this.qtdeAlunos,\n        fill: false,\n        borderColor: 'rgb(75, 192, 192)',\n        tension: 0.2\n      }]\n    };\n    const config = {\n      type: 'line',\n      data: data\n    };\n    const ctx = document.getElementById('myChartAlunos');\n    const myChartAlunos = new Chart(ctx, config);\n    myChartAlunos;\n  }\n};","map":{"version":3,"names":["Chart","name","data","URL","meses","mesesUsar","qtdeAlunos","methods","alimentarDadosQtde","qtde","mes","parseFloat","mesAtual","ano","anoAtual","i","axios","get","then","response","count","catch","error","console","log","filtraMeses","length","push","aux","pegarDataAtual","Date","dia","String","getDate","padStart","getMonth","getFullYear","atual","diaAtual","dataAtual","mesAno","diaDaSemana","toLocaleString","weekday","mounted","labels","datasets","label","fill","borderColor","tension","config","type","ctx","document","getElementById","myChartAlunos"],"sources":["C:\\Users\\Pedro Uema\\Desktop\\thaiweb\\front-end\\src\\components\\analises\\analisesAlunos.vue"],"sourcesContent":["<template>\r\n    <h2>Quantidade de novos alunos nos ultimos meses</h2>\r\n    <div style=\"position: relative; height: 45vh; width: 70vw\">\r\n        <canvas id=\"myChartAlunos\"></canvas>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Chart from 'chart.js/auto';\r\n;\r\n\r\nexport default {\r\n    name: 'AnalisesAlunos',\r\n    data(){\r\n        return {\r\n            URL: \"http://localhost:4000\",\r\n            meses: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],\r\n            mesesUsar: [],\r\n            qtdeAlunos: [],\r\n        }\r\n    },\r\n    methods: {\r\n        alimentarDadosQtde(){\r\n            let qtde\r\n            let mes = parseFloat(this.mesAtual)\r\n            let ano = parseFloat(this.anoAtual)\r\n            for(let i = 6; i >= 0; i--)\r\n            {\r\n                axios.get(`${this.URL}/alunosquantidademes/${mes}/${ano}`).then(response => {\r\n                    qtde = response.data[0].count;\r\n                    if(qtde == null)\r\n                        qtde = 0;\r\n                    this.qtdeAlunos[i] = qtde\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                })\r\n                mes--;\r\n                if(mes == 0)\r\n                {\r\n                    mes = 12;\r\n                    ano--;\r\n                }\r\n            }\r\n        },\r\n        filtraMeses(){\r\n            let mes = this.mesAtual-1\r\n            for(let i = 0; i < 7; i++)\r\n            {\r\n                if(mes == -1)\r\n                    mes = this.meses.length - 1\r\n                this.mesesUsar.push(this.meses[mes])\r\n                mes--;\r\n            }\r\n            let aux = [];\r\n            for(let i = this.mesesUsar.length - 1; i >= 0; i--)\r\n                aux.push(this.mesesUsar[i])\r\n            this.mesesUsar = aux;\r\n        },\r\n        pegarDataAtual() {\r\n            const data = new Date()\r\n            const dia = String(data.getDate()).padStart(2, '0')\r\n            const mes = String(data.getMonth() + 1).padStart(2, '0')\r\n            const ano = String(data.getFullYear())\r\n            const atual = `${dia}/${mes}/${ano}`\r\n            this.mesAtual = mes\r\n            this.diaAtual = dia\r\n            this.anoAtual = ano\r\n            this.dataAtual = atual\r\n            this.mesAno = mes+'-'+ano\r\n            this.diaDaSemana = data.toLocaleString('pt-BR', {weekday: 'long'})\r\n        },\r\n    },\r\n    mounted() {\r\n        this.pegarDataAtual();\r\n        this.filtraMeses();\r\n        this.alimentarDadosQtde();\r\n\r\n\r\n        const data = {\r\n            labels: this.mesesUsar,\r\n            datasets: [{\r\n                label: 'Novos Alunos',\r\n                data: this.qtdeAlunos,\r\n                fill: false,\r\n                borderColor: 'rgb(75, 192, 192)',\r\n                tension: 0.2\r\n            }]\r\n        };\r\n\r\n        const config = {\r\n            type: 'line',\r\n            data: data,\r\n        };\r\n\r\n        const ctx = document.getElementById('myChartAlunos');\r\n        const myChartAlunos = new Chart(ctx, config);\r\n        myChartAlunos;\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}